{"version":3,"sources":["icons/person-24px.svg","icons/filter-24px.svg","screens/mapStyles.js","screens/Mapscreen.js","screens/Profile.js","logo.svg","screens/ProfileInfo.js","screens/SignUp.js","screens/LogIn.js","screens/Filter.js","screens/ToiletsLeased.js","reducers/userReducer.js","screens/NewToilet.js","screens/OneToilet.js","App.js","reportWebVitals.js","serviceWorkerRegistration.js","index.js"],"names":["_path","_path2","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPerson24Px","_ref","svgRef","title","titleId","props","xmlns","height","viewBox","width","ref","id","d","fill","_line","_line2","_line3","_line4","_line5","_line6","_line7","_line8","_line9","ForwardRef","SvgFilter24Px","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","featureType","elementType","stylers","weight","color","visibility","saturation","lightness","Alert","elevation","variant","useStyles","makeStyles","theme","root","backgroundColor","icons","indigo","libraries","mapContainerStyle","options","styles","mapStyles","disableDefaultUI","zoomControl","center","lat","lng","Locate","panTo","className","onClick","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","src","alt","Search","usePlacesAutocomplete","requestOptions","location","radius","ready","value","suggestions","status","data","setValue","clearSuggestions","handleSelect","address","a","getGeocode","results","getLatLng","console","log","onSelect","onChange","e","disabled","placeholder","map","description","Markers","currentLat","currentLng","React","useState","toilets","setToilets","selected","setSelected","chipStyle","useLayoutEffect","fetch","method","headers","localStorage","getItem","then","res","json","result","filter","JSON","parse","filteredToilets","forEach","toilet","toiletFits","differentlyAbled","indianPreferred","isIndian","maximumPrice","restroomPrice","parseInt","isAvailable","needsToiletPaper","hasToiletPaper","gender","push","marker","body","stringify","toilet_id","_id","catch","err","handleMarkerClick","icon","url","origin","window","google","maps","Point","anchor","scaledSize","Size","onCloseClick","Card","CardContent","Typography","component","landmarkName","Box","borderColor","avgRating","Rating","name","readOnly","Chip","AccessibleForward","size","label","toiletType","AirlineSeatLegroomExtra","PregnantWoman","Person","Wc","CardActions","to","Info","style","fontWeight","Map","useLoadScript","googleMapsApiKey","process","isLoaded","loadError","setLat","setLng","zoom","setZoom","doneWithMapLoad","doneMapLoad","snackbarOpen","setSnackbarOpen","handleSnackbarClose","event","reason","mapRef","useRef","onMapLoad","useCallback","current","changePositionState","getCenter","changeZoomState","getZoom","onLoad","onDragEnd","onZoomChanged","Snackbar","open","autoHideDuration","onClose","severity","maxWidth","SimpleList","classes","List","aria-label","textDecoration","ListItem","button","ListItemIcon","ListItemText","primary","Settings","AccountBalance","Add","Profile","history","useHistory","AppBar","Toolbar","IconButton","edge","Close","goBack","Container","align","minHeigth","container","padding","spacing","flexGrow","menuButton","marginRight","toolbar","minHeight","alignItems","paddingTop","paddingBottom","alignSelf","ProfileInfo","setOpen","useContext","UserContext","dispatch","state","setError","setIsLoaded","items","setItems","useEffect","myHeaders","Headers","append","myRequest","Request","error","ArrowBack","Avatar","AccountCircle","onSubmit","preventDefault","Grid","item","xs","FormLabel","TextField","fullWidth","phone","email","Button","type","clear","SignUp","setName","password","setPassword","setEmail","setPhone","test","LogIn","setPasword","alert","setItem","token","user","payload","sliderMarks","valuetext","valueLabelFormat","Filter","setPaper","setGender","setAbled","setMax","setStyle","setFilter","setAvailable","String","select","MenuItem","gutterBottom","Slider","defaultValue","getAriaValueText","aria-labelledby","step","valueLabelDisplay","marks","val","ToiletsLeased","ownedToilets","setOwnedToilets","loading","setLoading","owner","Divider","class","secondary","FormControlLabel","control","Switch","reducer","action","followers","following","pic","margin","input","display","NewToilet","snackbarStatus","setOpenSnackbar","successMessage","setSuccessMessage","errorStatus","setErrorStatus","errorMessage","setErrorMessage","viewport","setViewport","handleViewportChange","newViewport","transitionDuration","setMarker","logEvents","_events","onDragStart","lngLat","onDrag","setRestroomPrice","bathroomPrice","setBathroomPrice","setHasToiletPaper","setDifferentlyAbled","isPublic","setPublic","indian","setIndian","image","setImage","photoURL","setPhotoURL","photos","setPhotos","rem","setRem","Picker","changeMarker","justify","FormControl","RadioGroup","Radio","FormGroup","row","Checkbox","checked","InputProps","startAdornment","InputAdornment","Bathtub","htmlFor","FormData","imageDetails","accept","multiple","files","PhotoCamera","Indian","on","onMapClick","latLng","SearchMap","media","iconStyles","OneToilet","toiletId","useParams","toiletProp","setToiletProp","stars","setStars","iconMakeup","CardActionArea","CardMedia","LocationOnOutlined","AccessibleForwardOutlined","WcOutlined","BathtubOutlined","AccessTimeOutlined","Phone","newValue","rating","createContext","createMuiTheme","palette","main","overrides","MuiRadio","colorSecondary","MuiCheckbox","Routing","pathname","startsWith","exact","path","App","useReducer","Provider","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","document","getElementById","URL","href","addEventListener","response","contentType","get","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"yJAAIA,EAAOC,E,mHAEX,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAcC,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOxB,EAAS,CACtD6B,MAAO,6BACPC,OAAQ,GACRC,QAAS,YACTC,MAAO,GACPC,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM5B,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EqC,EAAG,gBACHC,KAAM,UACHrC,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEoC,EAAG,oHAIP,IChCIE,EAAOC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EDgC/DC,EAA0B,aAAiBvB,GAChC,IC/Bf,SAAS,IAA2Q,OAA9P,EAAWtB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAAS4C,EAAcvB,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDK,MAAO,6BACPG,MAAO,GACPF,OAAQ,GACRC,QAAS,YACTK,KAAM,OACNY,OAAQ,UACRC,YAAa,EACbC,cAAe,QACfC,eAAgB,QAChBlB,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAMW,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3Ee,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,MACDjB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEc,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,KACDhB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEa,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,MACDf,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEY,GAAI,GACJC,GAAI,EACJC,GAAI,GACJC,GAAI,KACDd,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEW,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,MACDb,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEU,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,KACDZ,IAAWA,EAAsB,gBAAoB,OAAQ,CAChES,GAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,MACDX,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEQ,GAAI,EACJC,GAAI,EACJC,GAAI,GACJC,GAAI,KACDV,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEO,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,OAIR,IAAI,EAA0B,aAAiBR,GC7EhC,GD8EA,I,OC9EA,CACX,CACES,YAAa,MACbC,YAAa,gBACbC,QAAS,CACP,CACEC,OAAQ,UAId,CACEH,YAAa,MACbC,YAAa,kBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,MACbC,YAAa,cACbC,QAAS,CACP,CACEG,WAAY,QAIlB,CACEL,YAAa,YACbC,YAAa,MACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,YACbC,YAAa,gBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,qBACbC,YAAa,gBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,MACbC,YAAa,MACbC,QAAS,CACP,CACEG,WAAY,SAIlB,CACEL,YAAa,OACbC,YAAa,MACbC,QAAS,CACP,CACEI,YAAa,KAEf,CACEC,UAAW,MAIjB,CACEP,YAAa,OACbC,YAAa,gBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,OACbC,YAAa,mBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,OACbC,YAAa,qBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,eACbC,YAAa,MACbC,QAAS,CACP,CACEG,WAAY,gBAIlB,CACEL,YAAa,gBACbC,YAAa,cACbC,QAAS,CACP,CACEG,WAAY,SAIlB,CACEL,YAAa,UACbC,YAAa,MACbC,QAAS,CACP,CACEG,WAAY,SAIlB,CACEL,YAAa,QACbC,YAAa,MACbC,QAAS,CACP,CACEE,MAAO,WAET,CACEC,WAAY,QAIlB,CACEL,YAAa,QACbC,YAAa,gBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,QACbC,YAAa,mBACbC,QAAS,CACP,CACEE,MAAO,aAIb,CACEJ,YAAa,QACbC,YAAa,qBACbC,QAAS,CACP,CACEE,MAAO,e,8JCpIjB,SAASI,GAAMpC,GACb,OAAO,cAAC,IAAD,aAAUqC,UAAW,EAAGC,QAAQ,UAAatC,IAEtD,IAAMuC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,gBAAiB,SAGnBC,MACA,CACEpC,KAAKqC,IAAO,UAIVC,GAAY,CAAC,UACbC,GAAoB,CACxB7C,OAAQ,QACRE,MAAO,SAEH4C,GAAU,CACdC,OAAQC,EACRC,kBAAkB,EAClBC,aAAa,GAETC,GAAS,CACbC,IAAK,UACLC,IAAK,SAgHP,SAASC,GAAT,GAA4B,IAAVC,EAAS,EAATA,MAChB,OACE,wBACEC,UAAU,SACVC,QAAS,WACPC,UAAUC,YAAYC,oBACpB,SAACC,GACCN,EAAM,CACJH,IAAKS,EAASC,OAAOC,SACrBV,IAAKQ,EAASC,OAAOE,eAGzB,kBAAM,SAVZ,SAcE,qBAAKC,IAAI,eAAeC,IAAI,UAKlC,SAASC,GAAT,GAA4B,IAAVZ,EAAS,EAATA,MAAS,EAOrBa,YAAsB,CACxBC,eAAgB,CACdC,SAAU,CAAElB,IAAK,kBAAM,SAASC,IAAK,kBAAO,UAC5CkB,OAAQ,OARVC,EAFuB,EAEvBA,MACAC,EAHuB,EAGvBA,MAHuB,IAIvBC,YAAeC,EAJQ,EAIRA,OAAQC,EAJA,EAIAA,KACvBC,EALuB,EAKvBA,SACAC,EANuB,EAMvBA,iBAcIC,EAAY,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,6DACnBJ,EAASG,GAAS,GAClBF,IAFmB,kBAKKI,YAAW,CAAEF,YALlB,cAKXG,EALW,gBAMUC,YAAUD,EAAQ,IAN5B,gBAMT/B,EANS,EAMTA,IAAKC,EANI,EAMJA,IACbE,EAAM,CAAEH,MAAKC,QAPI,kDASjBgC,QAAQC,IAAI,uBAAZ,MATiB,0DAAH,sDAalB,OACE,qBAAK9B,UAAU,SAAf,SAEE,eAAC,IAAD,CAAU+B,SAAUR,EAApB,UACE,cAAC,IAAD,CACEN,MAAOA,EACPe,SAvBY,SAACC,GACnBZ,EAASY,EAAEpH,OAAOoG,QAuBZiB,UAAWlB,EACXmB,YAAY,WAEd,cAAC,IAAD,UACE,cAAC,IAAD,UACc,OAAXhB,GACCC,EAAKgB,KAAI,cAAGxF,GAAH,IAAOyF,EAAP,EAAOA,YAAP,OACP,cAAC,IAAD,CAAkCpB,MAAOoB,GAApBA,eAWrC,IAAMC,GAAU,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,WAAgB,EACdC,IAAMC,SAAS,IADD,mBACrCC,EADqC,KAC5BC,EAD4B,OAEZH,IAAMC,SAAS,MAFH,mBAErCG,EAFqC,KAE3BC,EAF2B,KAGtCC,EAAYlE,KAClBmE,2BAAgB,WACdnB,QAAQC,IAAI,uBACZmB,MAAM,iCAAiCV,EAAW,QAAQC,EAApD,qBAAuF,CAC3FU,OAAO,MACDC,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAUC,aAAaC,QAAQ,UAExDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACD5B,QAAQC,IAAI,kBAAkB2B,EAAOzI,OAAO,YAE5C,IAAM0I,EAAOC,KAAKC,MAAMR,aAAaC,QAAQ,mBAEzCQ,EAAgB,GACpB,IAAIH,IAASD,GAAwB,IAAhBA,EAAOzI,OAG1B,OAFA4H,EAAWa,QACX5B,QAAQC,IAAI,+BAGd2B,EAAOK,SAAQ,SAACC,GAEd,IAAIC,GAAW,EACZN,EAAOO,kBAA4C,KAA1BP,EAAOO,kBAAiD,SAA1BP,EAAOO,kBAAqD,OAA1BF,EAAOE,mBAAmD,IAA1BF,EAAOE,mBAEjID,GAAW,GAEe,KAAzBN,EAAOQ,iBAAwC,OAAlBH,EAAOI,WAA4C,SAAzBT,EAAOQ,kBAA4C,IAAlBH,EAAOI,UAA6C,UAAzBT,EAAOQ,kBAA6C,IAAlBH,EAAOI,YAE7JH,GAAW,GAEY,KAAtBN,EAAOU,cAA0C,OAAvBL,EAAOM,eAAsBC,SAASZ,EAAOU,cAAcL,EAAOM,gBAC7FL,GAAW,GAEVN,EAAOa,aAAkC,KAArBb,EAAOa,aAAuC,OAArBR,EAAOQ,aAA2C,SAArBb,EAAOa,cAA2C,IAArBR,EAAOQ,cAC/GP,GAAW,GAEgB,SAA1BN,EAAOc,kBAAmD,OAAxBT,EAAOU,iBAA+C,IAAxBV,EAAOU,iBACxET,GAAW,GAEM,KAAhBN,EAAOgB,QAA6B,OAAhBX,EAAOW,SAAiC,SAAhBhB,EAAOgB,QAAiC,MAAhBX,EAAOW,QACrD,WAAhBhB,EAAOgB,QAAmC,MAAhBX,EAAOW,QACf,UAAhBhB,EAAOgB,QAAmC,OAAhBX,EAAOW,UAClCV,GAAW,GAElBA,EAEDH,EAAgBc,KAAKZ,GAGrBlC,QAAQC,IAAI,CAACiC,SAAQL,cAI1Bd,EAAWiB,GACXhC,QAAQC,IAAI,qBAAqB+B,EAAgB7I,OAAO,iBAE7D,IAuBF,OACE,gCACG2H,EAAQP,KAAI,SAACwC,GAAD,OACR,cAAC,IAAD,CAEEvE,SAAU,CAAET,IAAKgF,EAAOhF,IAAKC,IAAK+E,EAAO/E,KACzCI,QAAS,YA3BM,SAAC2E,GAC1B3B,MAAM,wBAAyB,CAC7BC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB,UAAYC,aAAaC,QAAQ,QAEtDwB,KAAMlB,KAAKmB,UAAU,CACjBC,UAAWH,EAAOI,QAGvB1B,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAlC,GACAS,QAAQC,IAAIV,GACZ0B,EAAY1B,MACb6D,OAAM,SAAAC,GACLrD,QAAQC,IAAIoD,MAYNC,CAAkBP,IAIpBQ,KAAO,CACLC,IAAI,6EAEJC,OAAQ,IAAIC,OAAOC,OAAOC,KAAKC,MAAM,EAAG,GACxCC,OAAQ,IAAIJ,OAAOC,OAAOC,KAAKC,MAAM,GAAI,IACzCE,WAAY,IAAIL,OAAOC,OAAOC,KAAKI,KAAK,GAAI,MAbhD,UACUjB,EAAOI,SAiBlBnC,EACC,cAAC,IAAD,CACExC,SAAU,CAAET,IAAKiD,EAASjD,IAAKC,IAAKgD,EAAShD,KAC7CiG,aAAc,WACZhD,EAAY,OAHhB,SAME,8BACA,eAACiD,EAAA,EAAD,WACA,eAACC,EAAA,EAAD,WAGA,cAACC,EAAA,EAAD,CAAYrH,QAAQ,QAAQsH,UAAU,IAAtC,SACOrD,EAASsD,eAGhB,cAACC,EAAA,EAAD,CAAKF,UAAU,WAAWG,YAAY,cAAtC,SACOxD,EAASyD,UAAY,EAAI,cAACC,EAAA,EAAD,CAAQC,KAAK,YAAYvF,MAAO4B,EAASyD,UAAY,EAAIzD,EAASyD,UAAW,EAAGG,UAAQ,IAAK,OAE7H,gCACO5D,EAASoB,iBACV,iCAAM,cAACyC,EAAA,EAAD,CAAM9H,QAAQ,WAAWwG,KAAM,cAACuB,EAAA,EAAD,CAAmB3G,UAAW+C,EAAU7D,QAAU0H,KAAK,QAAQC,MAAM,2BAA2B7G,UAAa+C,EAAU/D,OAA5J,UACG,KAEsB,MAAxB6D,EAASiE,WAAqB,qCAAO,cAACJ,EAAA,EAAD,CAAO9H,QAAQ,WAAWwG,KAAM,cAAC2B,EAAA,EAAD,CAAyB/G,UAAW+C,EAAU7D,QAAY0H,KAAK,QAAQC,MAAM,UAAU7G,UAAa+C,EAAU/D,OAArJ,WAA4K,KACtL,MAApB6D,EAAS6B,OAAiB,qCAAO,cAACgC,EAAA,EAAD,CAAQ9H,QAAQ,WAAWwG,KAAM,cAAC4B,EAAA,EAAD,CAAehH,UAAW+C,EAAU7D,QAAY0H,KAAK,QAAQC,MAAM,SAAS7G,UAAa+C,EAAU/D,OAA3I,WAAkK,KACxK,MAApB6D,EAAS6B,OAAiB,qCAAO,cAACgC,EAAA,EAAD,CAAQ9H,QAAQ,WAAWwG,KAAM,cAAC6B,EAAA,EAAD,CAAQjH,UAAW+C,EAAU7D,QAAY0H,KAAK,QAAQC,MAAM,QAAQ7G,UAAa+C,EAAU/D,OAAnI,WAA0J,KAChK,MAApB6D,EAAS6B,OAAiB,qCAAO,cAACgC,EAAA,EAAD,CAAQ9H,QAAQ,WAAWwG,KAAM,cAAC8B,EAAA,EAAD,CAAIlH,UAAW+C,EAAU7D,QAAU2H,MAAM,SAASD,KAAK,QAAQ5G,UAAa+C,EAAU/D,OAA9H,WAAqJ,WAYtL,cAACmI,EAAA,EAAD,UACI,cAAC,IAAD,CAASC,GAAI,eAAevE,EAASmC,IAArC,SAA0C,cAAC0B,EAAA,EAAD,CAAOtB,KAAO,cAACiC,EAAA,EAAD,CAAMC,MAAO,CAAChJ,MAAM,WAAauI,MAAQ,UAAUS,MAAO,CAACrI,gBAAgB,UAAWX,MAAM,QAASiJ,WAAW,qBAK5K,SAOGC,GAzVH,WAAO,IAAD,EACgBC,YAAc,CAC5CC,iBAAkBC,0CAClBvI,eAFMwI,EADQ,EACRA,SAAUC,EADF,EACEA,UADF,EAMapF,IAAMC,SAAS,WAN5B,mBAMTH,EANS,KAMGuF,EANH,OAOarF,IAAMC,SAAS,SAP5B,mBAOTF,EAPS,KAOGuF,EAPH,OAQQtF,IAAMC,SAAS,IARvB,mBAQTsF,EARS,KAQHC,EARG,OASuBxF,IAAMC,UAAS,GATtC,mBASTwF,EATS,KASQC,EATR,OAWwB1F,IAAMC,UAAS,GAXvC,mBAWT0F,EAXS,KAWKC,EAXL,KAiBVC,EAAsB,SAACC,EAAOC,GAGlCH,GAAgB,IAYZI,EAAShG,IAAMiG,SACfC,EAAYlG,IAAMmG,aAAY,SAACxG,GACnCqG,EAAOI,QAAUzG,EACjB+F,GAAY,KACX,IAEGpI,EAAQ0C,IAAMmG,aAAY,YAAmB,IAAhBhJ,EAAe,EAAfA,IAAKC,EAAU,EAAVA,IACtC4I,EAAOI,QAAQ9I,MAAM,CAAEH,MAAKC,QAC5B4I,EAAOI,QAAQZ,QAAQ,IACvBa,MACC,IAEGA,EAAsB,WAE1BjH,QAAQC,IAAI,qBAEZgG,EAAOW,EAAOI,QAAQE,YAAYnJ,OAClCmI,EAAOU,EAAOI,QAAQE,YAAYlJ,OAClCmJ,KAEIA,EAAkB,WACtB,IAAId,EACF,OAAO,EAETD,EAAQQ,EAAOI,QAAQI,WACpBjB,GAAM,GA3CTK,GAAgB,GA+CdC,KAIJ,OAAIT,EAAkB,QACjBD,EAKH,gCAEA,cAAC,IAAD,CAASR,GAAG,WAAWpH,UAAU,UAAjC,SAA2C,cAAC,EAAD,CAAYA,UAAU,cACjE,cAAC,IAAD,CAASoH,GAAG,UAAUpH,UAAU,SAAhC,SAAyC,cAAC,EAAD,CAAYA,UAAU,aAC7D,cAACF,GAAD,CAAQC,MAAOA,IACf,cAACY,GAAD,CAAQZ,MAAOA,IAEf,eAAC,IAAD,CAEEV,kBAAmBA,GACnB2I,KAAMA,EACNrI,OAAQA,GACRL,QAASA,GAET4J,OAAQP,EACRQ,UAAWL,EACXM,cAAeJ,EATjB,UAaA,cAAC,GAAD,CAAqCzG,WAAYA,EAAYC,WAAYA,EAAYwF,KAAMA,GAA7EzF,EAAWC,GAEzB,cAAC6G,EAAA,EAAD,CAAUC,KAAMlB,EAAcmB,iBAAkB,IAAMC,QAASlB,EAA/D,SACE,cAAC,GAAD,CAAOkB,QAASlB,EAAqBmB,SAAS,UAA9C,4DAfI,UAbY,c,sJCxHlB5K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJtC,MAAO,OACPgN,SAAU,SAUd,SAASC,KACP,IAAMC,EAAU/K,KAEhB,OACE,qBAAKmB,UAAW4J,EAAQ5K,KAAxB,SACE,eAAC6K,GAAA,EAAD,CAAM3D,UAAU,MAAM4D,aAAW,uBAAjC,UACA,cAAC,IAAD,CAAS1C,GAAG,IAAIE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAO,WAAxD,SACE,eAAC0L,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACE,cAACC,GAAA,EAAD,UACE,cAAChD,EAAA,EAAD,MAGF,cAACiD,GAAA,EAAD,CAAcC,QAAQ,yBAMxB,cAAC,IAAD,CAAShD,GAAG,gBAAgBE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAO,WAApE,SACA,eAAC0L,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACE,cAACC,GAAA,EAAD,UACE,cAACjD,EAAA,EAAD,MAEF,cAACkD,GAAA,EAAD,CAAcC,QAAQ,sBAIxB,cAAC,IAAD,CAAShD,GAAG,kBAAkBE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAO,WAAtE,SACA,eAAC0L,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACE,cAACC,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,CAAcC,QAAQ,wBAMxB,eAAC,IAAD,CAAShD,GAAG,gBAAgBE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAO,WAApE,UACA,eAAC0L,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACE,cAACC,GAAA,EAAD,UACE,cAACG,GAAA,EAAD,MAGF,cAACF,GAAA,EAAD,CAAcC,QAAQ,gBAExB,eAACJ,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACE,cAACC,GAAA,EAAD,UACE,cAACI,GAAA,EAAD,MAGF,cAACH,GAAA,EAAD,CAAcC,QAAQ,iBAIxB,cAAC,IAAD,CAAShD,GAAG,cAAcE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAO,WAAlE,SAA+E,eAAC0L,GAAA,EAAD,CAAUC,QAAM,EAAhB,UAC7E,cAACC,GAAA,EAAD,UACE,cAACK,GAAA,EAAD,MAGF,cAACJ,GAAA,EAAD,CAAcC,QAAQ,2BAalC,IAuCeI,GAvCC,WAEZ,IAAMC,EAAUC,eAChB,OACI,gCAGK,cAACC,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACG,cAACiM,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAASxM,MAAM,UAAUwL,aAAW,OAArD,SACI,cAACiB,GAAA,EAAD,CAAO9K,QACHwK,EAAQO,eAOxB,iCACI,cAACC,GAAA,EAAD,CAAWvB,SAAS,KAApB,SACA,cAACzD,EAAA,EAAD,CAAYrH,QAAQ,KAAKsM,MAAM,OAA/B,2BAEA,cAACD,GAAA,EAAD,CAAWvB,SAAS,KAAKyB,UAAU,OAAnC,SACA,eAAClF,EAAA,EAAD,CAAYrH,QAAQ,KAAKsM,MAAM,OAA/B,yBAAuDvH,KAAKC,MAAMR,aAAaC,QAAQ,SAASmD,UAEhG,cAACyE,GAAA,EAAD,CAAWvB,SAAS,KAAKwB,MAAM,SAA/B,SACI,cAACvB,GAAD,a,sDCxHL,I,kBCqBf,SAASjL,GAAMpC,GACb,OAAO,cAAC,IAAD,aAAUqC,UAAW,EAAGC,QAAQ,UAAatC,IAEtD,IAAMuC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqM,UAAW,CACTC,QAAStM,EAAMuM,QAAQ,IAEzBtM,KAAM,CACJuM,SAAU,GAEZC,WAAY,CACVC,YAAa1M,EAAMuM,QAAQ,IAE7BI,QAAS,CACPC,UAAW,GACXC,WAAY,aACZC,WAAY9M,EAAMuM,QAAQ,GAC1BQ,cAAe/M,EAAMuM,QAAQ,IAE/BlP,MAAO,CACLmP,SAAU,EACVQ,UAAW,cA+KAC,GAzKK,WAAO,IAAD,EACAvJ,IAAMC,UAAS,GADf,mBACjB4G,EADiB,KACX2C,EADW,OAGCC,qBAAWC,IAAvBC,GAHW,EAGjBC,MAHiB,EAGXD,UAYPxC,EAAU/K,KAEV4L,EAAUC,eAjBQ,EAsBIhI,mBAAS,MAtBb,mBAsBR4J,GAtBQ,aAuBQ5J,oBAAS,GAvBjB,mBAuBjBkF,EAvBiB,KAuBP2E,EAvBO,OAwBE7J,mBAAS,IAxBX,mBAwBjB8J,EAxBiB,KAwBVC,EAxBU,KAqD1B,OA3BEC,qBAAU,WAER,IAAMC,EAAY,IAAIC,QACtBD,EAAUE,OAAO,gBAAiB,UAAUzJ,aAAaC,QAAQ,QAEjE,IAAMyJ,EAAY,IAAIC,QAAQ,wBAAyB,CACnD7J,OAAQ,MACRC,QAASwJ,IAGb1J,MAAM6J,GACLxJ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACD,SAACG,GACC8I,GAAY,GACZE,EAAShJ,MAGX,SAACuJ,GACCT,GAAY,GACZD,EAASU,QAGZ,IAIEpF,EAQD,gCACE,cAAC+C,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACU,cAACiM,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAASxM,MAAM,UAAUwL,aAAW,OAArD,SACI,cAACmD,GAAA,EAAD,CAAWhN,QACPwK,EAAQO,eASpC,cAACL,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACgB,cAACiM,GAAA,EAAD,MAOT,uBAEA,uBAGF,eAACK,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAK0B,WAAS,EAAhE,UAIG,eAACH,GAAA,EAAD,CAAWC,MAAM,SAAjB,UACA,cAACgC,GAAA,EAAD,CAAQ5F,MAAO,CAAC5K,MAAM,OAAQF,OAAO,QAArC,SACE,cAAC2Q,GAAA,EAAD,CAAe7F,MAAO,CAAC5K,MAAM,OAAQF,OAAO,YAE9C,uBACA,cAACyJ,EAAA,EAAD,UAAauG,EAAMhG,UAInB,sBAAM4G,SAAU,SAACnL,GAAKA,EAAEoL,kBAAxB,SACE,eAACC,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAGhE,MAAO,CAACuE,WAAW,IAA/C,UACE,cAACyB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,eAACF,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAzB,UACA,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACA,cAACC,GAAA,EAAD,CAAWvH,UAAU,SAArB,oBAEE,cAACoH,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAEnH,KAAK,OAAOI,KAAK,QAAQhI,QAAQ,WAAWqC,MAASuL,EAAMhG,SAEnF,cAAC8G,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACF,cAACC,GAAA,EAAD,CAAWvH,UAAU,SAArB,8BAEE,cAACoH,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAEnH,KAAK,QAAQI,KAAK,QAAQhI,QAAQ,WAAWqC,MAASuL,EAAMoB,UAEpF,cAACN,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACF,cAACC,GAAA,EAAD,CAAWvH,UAAU,SAArB,6BAEE,cAACoH,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAEnH,KAAK,QAAQI,KAAK,QAAQhI,QAAQ,WAAWqC,MAASuL,EAAMqB,eAQxF,cAACP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACA,cAACM,GAAA,EAAD,CAAQxP,MAAM,UAAUqP,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAAxD,8BAKF,cAAC0O,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAItC,MAAM,OAAzB,SACE,cAACjF,EAAA,EAAD,UAEI,cAAC6H,GAAA,EAAD,CAAQlP,QAAQ,YAAY0I,MAAO,CAACrI,gBAAgB,UAAWX,MAAM,SAAU2B,QAAS,WAC1FmD,aAAa4K,QACb5B,EAAS,CAAC2B,KAAK,UACftD,EAAQ9F,KAAK,WAHX,6BAkBV,cAAC0E,EAAA,EAAD,CAAUC,KAAMA,EAAMC,iBAAkB,IAAMC,QApJ9B,SAACjB,EAAOC,GACX,cAAXA,GAIJyD,GAAQ,IA+IN,SACJ,cAAC,GAAD,CAAQxC,SAAS,QAAjB,sDAtGQ,yBCrFV,SAAS/K,GAAMpC,GACb,OAAO,cAAC,IAAD,aAAUqC,UAAW,EAAGC,QAAQ,UAAatC,IAEtD,IAAMuC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqM,UAAW,CACTC,QAAStM,EAAMuM,QAAQ,IAEzBtM,KAAM,CACJuM,SAAU,GAEZC,WAAY,CACVC,YAAa1M,EAAMuM,QAAQ,IAE7BI,QAAS,CACPC,UAAW,GACXC,WAAY,aACZC,WAAY9M,EAAMuM,QAAQ,GAC1BQ,cAAe/M,EAAMuM,QAAQ,IAE/BlP,MAAO,CACLmP,SAAU,EACVQ,UAAW,cAqIAkC,GA/HA,WAAO,IAAD,EACKxL,IAAMC,UAAS,GADpB,mBACZ4G,EADY,KACN2C,EADM,KAYbrC,EAAU/K,KAEV4L,EAAUC,eAdG,EAeMhI,mBAAS,IAff,mBAeV8D,EAfU,KAeL0H,EAfK,OAgBcxL,mBAAS,IAhBvB,mBAgBVyL,EAhBU,KAgBDC,EAhBC,OAiBQ1L,mBAAS,IAjBjB,mBAiBVmL,EAjBU,KAiBJQ,EAjBI,OAkBQ3L,mBAAS,IAlBjB,mBAkBVkL,EAlBU,KAkBJU,EAlBI,KAwDnB,OACE,gCAIJ,cAAC3D,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACgB,cAACiM,GAAA,EAAD,MAOT,uBAEA,uBAED,eAACK,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAK0B,WAAS,EAACF,MAAM,SAAvE,UACE,qBAAKzK,IAAI,0BAA0BT,UAAY,YAC/C,cAACiG,EAAA,EAAD,UAAY,cAACG,EAAA,EAAD,CAAKmB,WAAW,iBAAhB,uCACZ,sBAAM6F,SAAU,SAACnL,GAAKA,EAAEoL,kBAAxB,SACE,eAACC,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAGhE,MAAO,CAACuE,WAAW,IAA/C,UACE,cAACyB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,eAACF,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAzB,UACE,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAC9G,MAAM,OAAOL,KAAK,OAAOI,KAAK,QAAQhI,QAAQ,WAAWoD,SAAU,SAACC,GAAD,OAAKiM,EAAQjM,EAAEpH,OAAOoG,YAEhH,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAC9G,MAAM,QAAQL,KAAK,QAAQI,KAAK,QAAQhI,QAAQ,WAAWoD,SAAU,SAACC,GAAD,OAAKqM,EAASrM,EAAEpH,OAAOoG,YAEnH,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAC9G,MAAM,QAAQL,KAAK,QAAQI,KAAK,QAAQhI,QAAQ,WAAWoD,SAAU,SAACC,GAAD,OAAKoM,EAASpM,EAAEpH,OAAOoG,YAEnH,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAC9G,MAAM,WAAWL,KAAK,WAAWI,KAAK,QAAQmH,KAAK,WAAWnP,QAAQ,WAAWoD,SAAU,SAACC,GAAD,OAAKmM,EAAYnM,EAAEpH,OAAOoG,iBAKhJ,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACA,cAACM,GAAA,EAAD,CAAQxP,MAAM,UAAUqP,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAAYqB,QAAS,WA3E7E,yJAAyJsO,KAAKV,GAIlK5K,MAAM,sBAAsB,CACxBC,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnB0B,KAAKlB,KAAKmB,UAAU,CAChB0B,OACA2H,WACAN,QACAD,YAELtK,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAlC,GAEFS,QAAQC,IAAIV,GACVA,EAAK4L,OACJnL,QAAQC,IAAIV,EAAK4L,OACjBf,GAAQ,IAGRxB,EAAQ9F,KAAK,aAEjBM,OAAM,SAAAC,GACLrD,QAAQC,IAAIoD,MA1Bd+G,GAAQ,IA0EN,uBAKF,cAACqB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAItC,MAAM,SAAzB,SACE,eAACjF,EAAA,EAAD,uCAE6B,cAAC,IAAD,CAAMmB,GAAG,SAASE,MAAO,CAAEyC,eAAgB,OAAQzL,MAAM,WAAzD,SAAqE,cAAC8H,EAAA,EAAD,CAAKmB,WAAW,iBAAhB,+BAaxG,cAAC8B,EAAA,EAAD,CAAUC,KAAMA,EAAMC,iBAAkB,IAAMC,QAhH9B,SAACjB,EAAOC,GACX,cAAXA,GAIJyD,GAAQ,IA2GN,SACJ,cAAC,GAAD,CAAQxC,SAAS,QAAjB,uDCvJI5K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqM,UAAW,CACTC,QAAStM,EAAMuM,QAAQ,QA8GZkD,GA1GD,WACZ,IAAM5E,EAAU/K,KADE,EAGOqN,qBAAWC,IAAvBC,GAHK,EAGXC,MAHW,EAGLD,UACL3B,EAAUC,eAJA,EAKchI,mBAAS,IALvB,mBAKTyL,EALS,KAKAM,EALA,OAMS/L,mBAAS,IANlB,mBAMTmL,EANS,KAMHQ,EANG,KA4ClB,OACE,gCACC,cAAC1D,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACW,cAACiM,GAAA,EAAD,MAOT,uBAEA,uBAED,eAACK,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAK0B,WAAS,EAACF,MAAM,SAAvE,UACE,qBAAKzK,IAAI,0BAA0BT,UAAY,YAC/C,cAACiG,EAAA,EAAD,UAAY,cAACG,EAAA,EAAD,CAAKmB,WAAW,iBAAhB,wCAGhB,cAAC0D,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAlD,SACE,sBAAM0D,SAAU,SAACnL,GAAKA,EAAEoL,kBAAxB,SACE,eAACC,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAzB,UACE,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,eAACF,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAzB,UACE,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CAAWC,WAAS,EAAC9G,MAAM,QAAQL,KAAK,QAAQI,KAAK,QAAQhI,QAAQ,WAAWoD,SAAU,SAACC,GAAD,OAAKoM,EAASpM,EAAEpH,OAAOoG,YAEnH,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,GAAA,EAAD,CACEC,WAAS,EACT9G,MAAM,WACNL,KAAK,WACLI,KAAK,QACLmH,KAAK,WACLnP,QAAQ,WACRoD,SAAU,SAACC,GAAD,OAAKwM,EAAWxM,EAAEpH,OAAOoG,iBAK3C,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACM,GAAA,EAAD,CAAQxP,MAAM,UAAUqP,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAAYqB,QAAS,WA7E7E,yJAAyJsO,KAAKV,GAIlK5K,MAAM,qBAAqB,CACvBC,OAAO,OACPC,QAAQ,CACJ,eAAe,oBAEnB0B,KAAKlB,KAAKmB,UAAU,CAChBqJ,WACAN,YAELvK,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAlC,GACFS,QAAQC,IAAIV,GACVA,EAAK4L,MACL0B,MAAMtN,EAAK4L,QAGV5J,aAAauL,QAAQ,MAAMvN,EAAKwN,OAEhCxL,aAAauL,QAAQ,OAAQhL,KAAKmB,UAAU1D,EAAKyN,OACjDhN,QAAQC,IAAI,YAAaV,EAAKwN,OAC9B/M,QAAQC,IAAI,YAAaV,EAAKyN,MAC9BzC,EAAS,CAAC2B,KAAK,OAAOe,QAAQ1N,EAAKyN,OACnCpE,EAAQ9F,KAAK,SAEjBM,OAAM,SAAAC,GACLrD,QAAQC,IAAIoD,MA5BZwJ,MAAM,+BA4EN,sBAKF,cAACpB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAItC,MAAM,SAAzB,SACE,eAACjF,EAAA,EAAD,wBAEa,cAAC,IAAD,CAAMmB,GAAG,UAAUE,MAAO,CAAEyC,eAAgB,OAASzL,MAAM,WAA3D,SAAwE,cAAC8H,EAAA,EAAD,CAAKmB,WAAW,iBAAhB,sC,oBC9F3F1I,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqM,UAAW,CACTC,QAAStM,EAAMuM,QAAQ,QAIrByD,GAAc,CAChB,CACE9N,MAAO,EACP4F,MAAO,WAET,CACE5F,MAAO,IACP4F,MAAO,cAGb,SAASmI,GAAU/N,GACf,MAAM,SAAN,OAAiB,EAANA,GAEf,SAASgO,GAAiBhO,GACtB,MAAM,SAAN,OAAiB,EAANA,GAGf,IA6HeiO,GA7HA,WACb,IAAMtF,EAAU/K,KAEV4L,EAAUC,eAHG,EAIiBhI,mBAAS,IAJ1B,mBAIZ8B,EAJY,KAIK2K,EAJL,OAKQzM,mBAAS,IALjB,mBAKZgC,EALY,KAKL0K,EALK,OAMiB1M,mBAAS,IAN1B,mBAMZuB,EANY,KAMKoL,EANL,OAOW3M,mBAAS,IAPpB,mBAOZ0B,EAPY,KAOCkL,EAPD,OAQgB5M,mBAAS,IARzB,mBAQZwB,EARY,KAQIqL,EARJ,OASQ7M,mBAAS,IATjB,mBASL8M,GATK,aAUgB9M,mBAAS,IAVzB,mBAUZ6B,EAVY,KAUAkL,EAVA,KAoCnB,OAnBA/C,qBAAW,WACL,IAAIhJ,EAAOC,KAAKC,MAAMR,aAAaC,QAAQ,mBACvCK,IACAA,EAAO,CACHQ,gBAAgB,QAChBM,iBAAiB,QACjBE,OAAO,OACPT,iBAAiB,QACjBG,aAAa,MACbG,YAAY,SAIpBiL,EAAU9L,GACV7B,QAAQC,IAAI4B,GACZ7B,QAAQC,IAAI4N,OAAOhM,EAAOQ,qBAK9B,gCAEE,cAACyG,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACU,cAACiM,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAASxM,MAAM,UAAUwL,aAAW,OAArD,SACI,cAACiB,GAAA,EAAD,CAAO9K,QACHwK,EAAQO,eAO9B,cAACC,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAKmC,WAAW,OAAlE,SACA,sBAAMuB,SAAU,SAACnL,GAAKA,EAAEoL,kBAAxB,SACE,eAACC,GAAA,EAAD,CAAMlC,WAAS,EACXE,QAAS,EADb,UAII,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACF,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAS,EAAzB,UACI,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,cAACvH,EAAA,EAAD,CAAYrH,QAAQ,KAAKsM,MAAM,SAA/B,qCAEJ,cAACoC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,cAACvH,EAAA,EAAD,CAAYrH,QAAQ,QAAQsM,MAAM,SAAlC,kFAEJ,cAACoC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACE,GAAA,EAAD,CAAWC,WAAS,EAAC/Q,GAAG,kBAAkBiK,MAAM,yCAA0CjI,QAAQ,SAAS+Q,QAAM,EAAC3N,SAAU,SAACC,GAAD,OAAKsN,EAAStN,EAAEpH,OAAOoG,QAAnJ,UACI,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,OAAhB,oBACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,QAAhB,0BAGR,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACE,GAAA,EAAD,CAAWC,WAAS,EAAC/Q,GAAG,mBAAmBiK,MAAM,+BAAgCjI,QAAQ,SAAS+Q,QAAM,EAAC3N,SAAU,SAACC,GAAD,OAAKkN,EAASlN,EAAEpH,OAAOoG,QAA1I,UACI,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,OAAhB,iBACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,QAAhB,qBAGR,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACE,GAAA,EAAD,CAAWC,WAAS,EAAC/Q,GAAG,SAASiK,MAAM,eAAejI,QAAQ,SAAS+Q,QAAM,EAAC3N,SAAU,SAACC,GAAD,OAAKmN,EAAUnN,EAAEpH,OAAOoG,QAAhH,UACI,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,OAAhB,kBACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,SAAhB,oBACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,QAAhB,wBAGR,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACE,GAAA,EAAD,CAAWC,WAAS,EAAC/Q,GAAG,mBAAmBiK,MAAM,6BAA6BjI,QAAQ,SAAS+Q,QAAM,EAAC3N,SAAU,SAACC,GAAD,OAAKoN,EAASpN,EAAEpH,OAAOoG,QAAvI,UACI,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,OAAhB,iBACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,QAAhB,qBAGR,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,eAACE,GAAA,EAAD,CAAWC,WAAS,EAAC/Q,GAAG,eAAeiK,MAAM,sBAAsBjI,QAAQ,SAAS+Q,QAAM,EAAC3N,SAAU,SAACC,GAAD,OAAKwN,EAAaxN,EAAEpH,OAAOoG,QAAhI,UACI,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,OAAhB,yCACA,cAAC2O,GAAA,EAAD,CAAU3O,MAAM,QAAhB,mCAGR,eAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,UACA,cAACvH,EAAA,EAAD,CAAYrJ,GAAG,yBAAyBiT,cAAY,EAApD,2BAGA,cAACC,GAAA,EAAD,CACIC,aAAc,GACdd,iBAAkBA,GAClBe,iBAAkBhB,GAClBiB,kBAAgB,yBAChBC,KAAM,GACNC,kBAAkB,OAClBC,MAAOrB,GACP/M,SAAW,SAACC,EAAGoO,GAAJ,OAAYf,EAAOe,cAK1C,cAAC/C,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,cAACM,GAAA,EAAD,CAAQxP,MAAM,UAAUqP,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAAYqB,QAAS,kBAnGzFmD,aAAauL,QAAQ,iBAAkBhL,KAAKmB,UAAU,CAACP,cAAaL,kBAAiBM,mBAAkBE,SAAQT,mBAAkBG,uBACjIqG,EAAQ9F,KAAK,MAkGD,+B,8BChIV9F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqM,UAAW,CACTC,QAAStM,EAAMuM,QAAQ,QA6HZgF,GAxHO,SAAChU,GAGrB,IAAMsN,EAAU/K,KAHe,EAIS6D,mBAAS,CAAC,CAACyD,aAAa,UAAWG,UAAU,MAJtD,mBAIxBiK,EAJwB,KAIVC,EAJU,KAKzB/F,EAAUC,eALe,EAMDhI,oBAAS,GANR,mBAMxB+N,EANwB,KAMfC,EANe,KAU/BhE,qBAAU,WAERzJ,MAAM,yBAAyB,IAE5BK,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEJ,IAAI8M,EAAe,GACb1B,EAAKlL,KAAKC,MAAMR,aAAaC,QAAQ,SAEvCI,IAGJA,EAAOK,SAAQ,SAACC,GACdlC,QAAQC,IAAI+M,GACTa,OAAO3L,EAAO4M,MAAM3L,OAAO0K,OAAOb,EAAK7J,MACtCuL,EAAa5L,KAAKZ,MAIxByM,EAAgBD,GAChBG,GAAW,SASZ,IAkBH,OAAID,EAEM,wBAKN,gCACE,cAAC9F,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACU,cAACiM,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAASxM,MAAM,UAAUwL,aAAW,OAArD,SACI,cAACiB,GAAA,EAAD,CAAO9K,QACHwK,EAAQO,eAO9B,eAACC,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAYO,UAAU,OAApD,UAEM,cAAC1F,EAAA,EAAD,CAAYrH,QAAQ,KAAKsM,MAAM,SAA/B,4BACA,eAACjF,EAAA,EAAD,CAAYrH,QAAQ,KAAKsM,MAAM,SAA/B,qBAAiDqF,EAAavV,OAA9D,iBAGN,eAACiQ,GAAA,EAAD,CAAWjL,UAAW4J,EAAQwB,UAAW1B,SAAS,KAAKmC,WAAW,OAAlE,UAEA,eAAChC,GAAA,EAAD,CAAM7J,UAAW4J,EAAQ5K,KAAzB,UACA,cAAC4R,GAAA,EAAD,CAAS1K,UAAU,OAElBqK,EAAanO,KAAI,SAAC2B,GAAD,OACZ,sBAAK8M,MAAM,MAAX,UACE,eAAC7G,GAAA,EAAD,WACA,cAACG,GAAA,EAAD,CAAcC,QAASrG,EAAOoC,aAAc2K,WAAiC,IAAtB/M,EAAOuC,UAAiB,gBAAgBoJ,OAAO3L,EAAOuC,UAAU,QACvH,cAACyK,GAAA,EAAD,CACVC,QAAS,cAACC,GAAA,EAAD,CAAQzK,KAAMzC,EAAOiB,IAAK4B,KAAK,SAAStI,MAAM,YACvDuI,MAAM,iBAII,cAAC+J,GAAA,EAAD,CAAS1K,UAAU,gBAMvB,uBAEA,cAAC4H,GAAA,EAAD,CAAQxP,MAAM,UAAUqP,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAAYqB,QAASwK,EAAQO,OAArF,mCCxICkG,I,OAAU,SAAC7E,EAAM8E,GAC1B,MAAiB,SAAdA,EAAOpD,KACCoD,EAAOrC,QAED,UAAdqC,EAAOpD,KACC,KAEM,WAAdoD,EAAOpD,KACC,2BACA1B,GADP,IAEI+E,UAAUD,EAAOrC,QAAQsC,UACzBC,UAAUF,EAAOrC,QAAQuC,YAGhB,cAAdF,EAAOpD,KACC,2BACA1B,GADP,IAEIiF,IAAIH,EAAOrC,UAGZzC,I,gJCmBX,SAAS3N,GAAMpC,GACb,OAAO,cAAC,IAAD,aAAUqC,UAAW,EAAGC,QAAQ,UAAatC,IAEtD,IAAMuC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACJ,QAAS,CACPuS,OAAQxS,EAAMuM,QAAQ,KAG1BkG,MAAO,CACLC,QAAS,YA+dAC,GA1dG,WAAO,MAGqBjP,IAAMC,UAAS,GAHpC,mBAGdiP,EAHc,KAGEC,EAHF,OAIwBnP,IAAMC,SAAS,IAJvC,mBAIdmP,EAJc,KAIEC,EAJF,OAKiBrP,IAAMC,UAAS,GALhC,mBAKdqP,EALc,KAKDC,EALC,OAMmBvP,IAAMC,SAAS,IANlC,mBAMduP,EANc,KAMAC,EANA,KAUfzH,EAASC,eAVM,EAaWjI,IAAMC,SAAS,CAC3ChG,MAAO,QACPF,OAAQ,OACR+D,SAAU,KACVC,UAAW,KACXwH,KAAM,KAlBW,mBAadmK,EAbc,KAaJC,EAbI,KA0BbC,GANS3J,mBAMcE,uBAC3B,SAAC0J,GAAD,OAAiBF,EAAYE,KAC7B,KA5BiB,GAiCkB1J,uBACnC,SAAC0J,GAGC,OAAOD,EAAqB,2BACvBC,GAH4B,CAAEC,mBAAoB,SAOzD,CAACF,IAGyB3P,mBAC1B,OA9CiB,mBA6CZkC,EA7CY,KA6CJ4N,EA7CI,KAsDnB9F,qBAAU,WACN8F,EAAU,CACNjS,SAAS4R,EAAS5R,SAClBC,UAAU2R,EAAS3R,cAExB,CAAC2R,IA3De,MAgESzP,mBAAS,IAhElB,mBAgEJ+P,GAhEI,cAkEO7J,uBAAY,SAAAL,GACpCkK,GAAU,SAAAC,GAAO,kCAASA,GAAT,IAAkBC,YAAapK,EAAMqK,cACrD,IAEkBhK,uBAAY,SAAAL,GAC/BkK,GAAU,SAAAC,GAAO,kCAASA,GAAT,IAAkBG,OAAQtK,EAAMqK,cAChD,IAgBmBnQ,IAAMC,SAAS,KAxFlB,mBAwFd8D,EAxFc,KAwFR0H,EAxFQ,OAyFqBzL,IAAMC,WAzF3B,mBAyFd2B,EAzFc,KAyFCyO,EAzFD,OA0FqBrQ,IAAMC,WA1F3B,mBA0FdqQ,EA1Fc,KA0FCC,EA1FD,OA2FuBvQ,IAAMC,UAAS,GA3FtC,mBA2Fd+B,EA3Fc,KA2FEwO,EA3FF,OA4FOxQ,IAAMC,SAAS,KA5FtB,oBA4FdgC,GA5Fc,MA4FN0K,GA5FM,SA6F8B3M,IAAMC,UAAS,GA7F7C,qBA6FduB,GA7Fc,MA6FOiP,GA7FP,SA8FGzQ,IAAMC,SAAS,IA9FlB,qCA+FSD,IAAMC,UAAS,IA/FxB,qBA+FdyQ,GA/Fc,MA+FJC,GA/FI,SAgGO3Q,IAAMC,SAAS,KAhGtB,qBAgGd2Q,GAhGc,MAgGNC,GAhGM,SAiGI5Q,mBAAS,IAjGb,qBAiGd6Q,GAjGc,MAiGRC,GAjGQ,SAkGY9Q,mBAAS,IAlGrB,qBAkGd+Q,GAlGc,MAkGJC,GAlGI,SAmGOhR,mBAAS,IAnGhB,qBAmGdiR,GAnGc,MAmGNC,GAnGM,SAoGClR,mBAAS,GApGV,qBAoGdmR,GApGc,MAoGTC,GApGS,MAyGflK,GAAU/K,KAkIlB,OAfE6N,qBAAU,WACRkH,GAAU,GAAD,oBAAKD,IAAL,CAAaF,QACrB,CAACA,KAOJ/G,qBAAU,WAERoH,GAAOD,GAAI,KACV,CAACJ,KAIJ,gCACO,cAAC9I,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACK,eAACiM,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAASxM,MAAM,UAAUwL,aAAW,OAArD,SACI,cAACmD,GAAA,EAAD,CAAWhN,QACPwK,EAAQO,WAI1B,cAAC/E,EAAA,EAAD,CAAYrH,QAAQ,KAApB,+CAKG,cAACmV,GAAD,CAAQC,aA1MM,SAACnR,GAEnB2P,EAAU3P,GACVhB,QAAQC,IAAI8C,MA2MlB,cAACqG,GAAA,EAAD,CAAWvB,SAAS,KAApB,SAGI,eAAC4D,GAAA,EAAD,CAAMlC,WAAS,EAAC6I,QAAQ,SAAS3I,QAAS,EAA1C,UACM,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,KAIhB,cAACF,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACI,cAACE,GAAA,EAAD,CACAC,WAAS,EACL/O,QAAQ,SAERhC,GAAG,eACHiK,MAAQ,iDACR5F,MAASuF,EAAMxE,SAAU,SAACC,GAAD,OAAKiM,EAAQjM,EAAEpH,OAAOoG,YAIvD,cAACqM,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,GAAjB,SACI,eAAC0G,GAAA,EAAD,CAAahO,UAAU,WAAvB,UACI,cAACuH,GAAA,EAAD,CAAWvH,UAAU,SAArB,2BACA,eAACiO,GAAA,EAAD,CAAYrK,aAAW,OAAOtD,KAAK,OAAOvF,MAAOoS,GAAQrR,SAAU,SAACuG,GACpF+K,GAAU/K,EAAM1N,OAAOoG,QADP,UAII,cAAC8P,GAAA,EAAD,CAAkB9P,MAAM,IAAI+P,QAAS,cAACoD,GAAA,EAAD,IAAWvN,MAAM,SAASS,MAAS,CAAChJ,MAAM,WAC/E,cAACyS,GAAA,EAAD,CAAkB9P,MAAM,IAAI+P,QAAS,cAACoD,GAAA,EAAD,IAAWvN,MAAM,UAAUS,MAAS,CAAChJ,MAAM,mBAO5F,cAACgP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,GAAjB,SACI,eAAC0G,GAAA,EAAD,CAAahO,UAAU,WAAvB,UACI,cAACuH,GAAA,EAAD,CAAWvH,UAAU,SAArB,kCACA,eAACiO,GAAA,EAAD,CAAYrK,aAAW,OAAOtD,KAAK,OAAOvF,MAAOyD,GAAQ1C,SAAU,SAACuG,GACpF6G,GAAU7G,EAAM1N,OAAOoG,QADP,UAII,cAAC8P,GAAA,EAAD,CAAkB9P,MAAM,IAAI+P,QAAS,cAACoD,GAAA,EAAD,IAAWvN,MAAM,SAASS,MAAS,CAAChJ,MAAM,WAC/E,cAACyS,GAAA,EAAD,CAAkB9P,MAAM,IAAI+P,QAAS,cAACoD,GAAA,EAAD,IAAWvN,MAAM,QAAQS,MAAS,CAAChJ,MAAM,WAC9E,cAACyS,GAAA,EAAD,CAAkB9P,MAAM,IAAI+P,QAAS,cAACoD,GAAA,EAAD,IAAWvN,MAAM,SAASS,MAAS,CAAChJ,MAAM,mBAO3F,cAACgP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,GAAjB,SAEI,eAAC0G,GAAA,EAAD,CAAahO,UAAU,WAAvB,UACA,cAACuH,GAAA,EAAD,CAAWvH,UAAU,SAArB,mBACI,eAACmO,GAAA,EAAD,CAAWC,KAAG,EAAd,UACI,cAACvD,GAAA,EAAD,CACIC,QAAS,cAACuD,GAAA,EAAD,CAAUC,QAAS/P,EAAgBzC,SAAU,SAACC,GACnDgR,EAAkBhR,EAAEpH,OAAO2Z,UAC5BhO,KAAK,qBACRK,MAAM,0BAEV,cAACkK,GAAA,EAAD,CACIC,QAAS,cAACuD,GAAA,EAAD,CAAUC,QAASvQ,GAAmBjC,SAAU,SAACC,GACxDiR,GAAoBjR,EAAEpH,OAAO2Z,UAC9BhO,KAAK,qBACNK,MAAM,uCAevB,cAACyG,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,GAAjB,SAEK,eAAC0G,GAAA,EAAD,CAAahO,UAAU,WAAvB,UACA,cAACuH,GAAA,EAAD,CAAWvH,UAAU,SAArB,4DACI,cAACmO,GAAA,EAAD,CAAWC,KAAG,EAAd,SACI,cAACvD,GAAA,EAAD,CACIC,QAAS,cAACuD,GAAA,EAAD,CAAUC,QAASrB,GAAUnR,SAAU,SAACC,GAC7CmR,GAAUnR,EAAEpH,OAAO2Z,UACpBhO,KAAK,kBACRK,MAAM,2BAgBtB,cAACyG,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SAEI,eAAC0G,GAAA,EAAD,CAAahO,UAAU,WAAvB,UACI,cAACuH,GAAA,EAAD,CAAWvH,UAAU,SAArB,qBACA,uBACA,cAACmO,GAAA,EAAD,CAAWC,KAAG,EAAd,SACE,eAAChH,GAAA,EAAD,CAAMlC,WAAS,EAACE,QAAW,EAA3B,UACI,cAACgC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACM,cAACE,GAAA,EAAD,CACIC,WAAS,EACT/O,QAAQ,SACRqC,MAASoD,EAAerC,SAAU,SAACC,GAAD,OAAK6Q,EAAiB7Q,EAAEpH,OAAOoG,QACjErE,GAAG,eACHiK,MAAM,iBACN4N,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgBtU,SAAS,QAAzB,SACI,cAAC6G,EAAA,EAAD,WAOtB,cAACoG,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACA,cAACE,GAAA,EAAD,CACUC,WAAS,EACT/O,QAAQ,SACRqC,MAAS8R,EAAe/Q,SAAU,SAACC,GAAD,OAAK+Q,EAAiB/Q,EAAEpH,OAAOoG,QACjErE,GAAG,eACHiK,MAAM,iBACN4N,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgBtU,SAAS,QAAzB,SACI,cAACuU,GAAA,EAAD,WAOtB,eAACtH,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAM,GAAjB,UAEI,uBACJ,eAACC,GAAA,EAAD,CAAWvH,UAAU,SAArB,sCAAwD2N,GAAxD,wBACA,uBACI,cAAC5I,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACA,sBAAKlL,UAAW4J,GAAQ5K,KAAxB,UASM,uBAAO6V,QAAQ,wBAAf,SACI,cAAC/G,GAAA,EAAD,CAAQlP,QAAQ,YAAYN,MAAM,UAAU4H,UAAU,OAAOjG,QAAW,SAACgC,IAtP1F,WAEpB,GAAY,GAAP4R,IAAcN,GACnB,CACC,IAAMnS,EAAO,IAAI0T,SACjB1T,EAAKyL,OAAO,OAAO0G,IACnBnS,EAAKyL,OAAO,gBAAgB,kBAC5BzL,EAAKyL,OAAO,aAAa,aACzB5J,MAAM,yDAAyD,CAC3DC,OAAO,OACP2B,KAAKzD,IAERkC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAlC,GACCA,EAAK4L,OACNgF,GAAe,GACfE,EAAgB9Q,EAAK4L,OACrBnL,QAAQC,IAAIV,EAAK4L,SAIjB0G,GAAYtS,EAAKiE,KAChBuM,GAAgB,GAChBE,EAAkB,+BAMxB7M,OAAM,SAAA+H,GAELgF,GAAe,GACfE,EAAgBlF,GAChBnL,QAAQC,IAAIkL,WAQdgF,GAAe,GACfE,EAAgB,kFAChBrQ,QAAQC,IAAI,mBA2MsGiT,IAA9E,sBAIJ,uBAAOC,OAAO,UAAUhV,UAAW4J,GAAQ4H,MAAOyD,UAAQ,EAACrY,GAAG,mBAAmBmR,KAAK,OAAO/L,SAAU,SAACC,GAAD,OAAKuR,GAASvR,EAAEpH,OAAOqa,MAAM,OACpI,uBAAOL,QAAQ,mBAAf,SACI,cAAChK,GAAA,EAAD,CAAYvM,MAAM,UAAUwL,aAAW,iBAAiB5D,UAAU,OAAlE,SACI,cAACiP,GAAA,EAAD,gBAOlB,cAAC7H,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACU,cAACM,GAAA,EAAD,CAAQ7N,QAAW,kBAhUlD4B,QAAQC,IAAI,CACXqE,aAAcK,EACd2M,SAASA,GACTlP,iBAAiBA,GACjBS,OAAOA,GACPD,eAAeA,EACfJ,cAAcA,EACd0O,cAAcA,EACdnT,IAAIgF,EAAOhF,IACXC,IAAI+E,EAAO/E,IACXuV,OAAQ/B,GACRM,OAAQA,UAIR1Q,MAAM,wBAAwB,CAC1BC,OAAO,OACPC,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAUC,aAAaC,QAAQ,QAEnDwB,KAAKlB,KAAKmB,UAAU,CAChBqB,aAAcK,EACd2M,SAASA,GACTlP,iBAAiBA,GACjBS,OAAOA,GACPD,eAAeA,EACfJ,cAAcA,EACd0O,cAAcA,EACdjM,WAAWuM,GACXzT,IAAIgF,EAAOhF,IACXC,IAAI+E,EAAO/E,IACX8T,OAAQA,OAKbrQ,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAlC,GAEFS,QAAQC,IAAIV,GACVA,EAAK4L,OACJgF,GAAe,GACfE,EAAgB9Q,EAAK4L,OACrBnL,QAAQC,IAAIV,EAAK4L,SAIlB4E,GAAgB,GAChBE,EAAkB,iBACjBrH,EAAQ9F,KAAK,SAEjBM,OAAM,SAAAC,GAGLrD,QAAQC,IAAIoD,OAyQqD5G,MAAM,UAAU+W,IAAE,EAAC1H,WAAS,EAACI,KAAK,SAASnP,QAAQ,YAA1F,2CAuBnC,cAACyK,EAAA,EAAD,CAAUC,KAAMqI,EAAgBpI,iBAAkB,IAAMC,QAAS,SAACvH,GAAK2P,GAAgB,IAAvF,SACD,cAAC,GAAD,CAAOpI,QAAS,SAACvH,GAAK2P,GAAgB,IAASnI,SAAS,UAAxD,SACGoI,MAGL,cAACxI,EAAA,EAAD,CAAUC,KAAMyI,EAAaxI,iBAAkB,IAAMC,QAAS,SAACvH,GAAK+P,GAAe,IAAnF,SACE,cAAC,GAAD,CAAOxI,QAAS,SAACvH,GAAK+P,GAAe,IAASvI,SAAS,QAAvD,SACIwI,UAkBA7S,GAAY,CAAC,UACbC,GAAoB,CACxB7C,OAAQ,OACRE,MAAO,SAEH4C,GAAU,CACdC,OAAQC,EACRC,kBAAkB,EAClBC,aAAa,GAETC,GAAS,CACbC,IAAK,QACLC,KAAM,SAGR,SAASkU,GAAT,GAAiC,IAAhBC,EAAe,EAAfA,aAAe,EACEvM,YAAc,CAC5CC,iBAAkBC,0CAClBvI,eAFMwI,EADsB,EACtBA,SAAUC,EADY,EACZA,UADY,EAKEpF,IAAMC,SAAS,MALjB,mBAKvBG,EALuB,KAKbC,EALa,KAM/B4J,qBAAU,WACLsH,EAAanR,KACf,CAACA,IAGH,IAAMyS,EAAa7S,IAAMmG,aAAY,SAAC3G,GACpCa,EAAY,CACRlD,IAAKqC,EAAEsT,OAAO3V,MACdC,IAAKoC,EAAEsT,OAAO1V,UAIjB,IAEG4I,EAAShG,IAAMiG,SACfC,EAAYlG,IAAMmG,aAAY,SAACxG,GACnCqG,EAAOI,QAAUzG,IAChB,IAEGrC,EAAQ0C,IAAMmG,aAAY,YAAmB,IAAhBhJ,EAAe,EAAfA,IAAKC,EAAU,EAAVA,IACtC4I,EAAOI,QAAQ9I,MAAM,CAAEH,MAAKC,QAC5B4I,EAAOI,QAAQZ,QAAQ,MACtB,IAEH,OAAIJ,EAAkB,QACjBD,EAGH,gCAGE,cAAC,GAAD,CAAQ7H,MAAOA,IACf,cAACyV,GAAD,CAAWzV,MAAOA,IAElB,cAAC,IAAD,CACEnD,GAAG,MACHyC,kBAAmBA,GACnB2I,KAAM,EACNrI,OAAQA,GACRL,QAASA,GACTW,QAASqV,EACTpM,OAAQP,EAPV,SASG9F,EAAW,cAAC,IAAD,CAETxC,SAAU,CAAET,IAAKiD,EAASjD,IAAKC,IAAKgD,EAAShD,OAI1C,UAxBU,aAwDxB,SAASC,GAAT,GAA4B,IAAVC,EAAS,EAATA,MAChB,OACE,wBACEC,UAAU,eACVC,QAAS,WACPC,UAAUC,YAAYC,oBACpB,SAACC,GACCN,EAAM,CACJH,IAAKS,EAASC,OAAOC,SACrBV,IAAKQ,EAASC,OAAOE,eAGzB,kBAAM,SAVZ,SAcE,qBAAKC,IAAI,eAAeC,IAAI,UAKlC,SAAS8U,GAAT,GAA+B,IAAVzV,EAAS,EAATA,MAAS,EAOxBa,YAAsB,CACxBC,eAAgB,CACdC,SAAU,CAAElB,IAAK,kBAAM,SAASC,IAAK,kBAAO,UAC5CkB,OAAQ,OARVC,EAF0B,EAE1BA,MACAC,EAH0B,EAG1BA,MAH0B,IAI1BC,YAAeC,EAJW,EAIXA,OAAQC,EAJG,EAIHA,KACvBC,EAL0B,EAK1BA,SACAC,EAN0B,EAM1BA,iBAcIC,EAAY,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,6DACnBJ,EAASG,GAAS,GAClBF,IAFmB,kBAKKI,YAAW,CAAEF,YALlB,cAKXG,EALW,gBAMUC,YAAUD,EAAQ,IAN5B,gBAMT/B,EANS,EAMTA,IAAKC,EANI,EAMJA,IACbE,EAAM,CAAEH,MAAKC,QAPI,kDASjBgC,QAAQC,IAAI,uBAAZ,MATiB,0DAAH,sDAalB,OACE,qBAAK9B,UAAU,eAAf,SAEE,eAAC,IAAD,CAAU+B,SAAUR,EAApB,UACE,cAAC,IAAD,CACEN,MAAOA,EACPe,SAvBY,SAACC,GACnBZ,EAASY,EAAEpH,OAAOoG,QAuBZiB,UAAWlB,EACXmB,YAAY,WAEd,cAAC,IAAD,UACE,cAAC,IAAD,UACc,OAAXhB,GACCC,EAAKgB,KAAI,gBAAGxF,EAAH,EAAGA,GAAIyF,EAAP,EAAOA,YAAP,OACP,cAAC,IAAD,CAAyBpB,MAAOoB,GAAXzF,e,oFC3rBrC,SAAS8B,GAAMpC,GACb,OAAO,cAAC,IAAD,aAAUqC,UAAW,EAAGC,QAAQ,UAAatC,IAGtD,IAAMuC,GAAYC,YAAW,CACzBE,KAAM,CACF0K,SAAU,KAEd+L,MAAO,CACHjZ,OAAQ,OAIVkZ,GAAa5W,YAAW,CAC1BE,KAAM,CACFlC,KAAM,WAGV2Y,MAAO,KAwOIE,GAnOG,WAAO,IACbC,EAAaC,eAAbD,SADY,EAEgBlT,qBAFhB,mBAEboT,EAFa,KAEDC,EAFC,OAGUrT,oBAAS,GAHnB,mBAGb+N,EAHa,KAGJC,EAHI,KAIpB7O,QAAQC,IAAI8T,GAJQ,MAKsBnT,IAAMC,UAAS,GALrC,mBAKbiP,EALa,KAKGC,EALH,KA4CpBlF,qBAAU,WACNzJ,MAAM,wBAAyB,CAC3BC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB,UAAYC,aAAaC,QAAQ,QAEtDwB,KAAMlB,KAAKmB,UAAU,CACjBC,UAAW6Q,MAKhBtS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UACdF,MAAK,SAAAlC,GAEFS,QAAQC,IAAIV,GACRA,EAAK4L,MAELnL,QAAQC,IAAIV,EAAK4L,QAIjBnL,QAAQC,IAAIV,GACZ2U,EAAc3U,GACdsP,GAAW,OAEhBzL,OAAM,SAAAC,GAGLrD,QAAQC,IAAIoD,QAErB,IA5EiB,MA6EMzC,IAAMC,SAAS,GA7ErB,mBA6EbsT,EA7Ea,KA6ENC,EA7EM,KA8EdrM,EAAU/K,KACVqX,EAAaR,KACbjL,EAAUC,eAChB,OAAI+F,EACQ,wBAKA,gCACJ,cAAC9F,GAAA,EAAD,CAAQtK,SAAS,SAAS/B,MAAM,YAAYK,UAAW,EAAvD,SACI,eAACiM,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAYC,KAAK,QAAQxM,MAAM,UAAUwL,aAAW,OAApD,SACI,cAACmD,GAAA,EAAD,CAAWhN,QACPwK,EAAQO,WAGhB,cAAC/E,EAAA,EAAD,CAAYrH,QAAQ,YAM5B,eAACqM,GAAA,EAAD,CAAWvB,SAAS,KAAKwB,MAAM,SAA/B,UACI,eAACnF,EAAA,EAAD,CAAM/F,UAAW4J,EAAQ5K,KAAML,UAAW,EAA1C,UACI,eAACwX,GAAA,EAAD,WAEI,cAACC,GAAA,EAAD,CAEI7C,MAAOuC,EAAWnC,OAAO3Y,OAAS,EAAI8a,EAAWnC,OAAO,GAAK,oGAC7DvX,MAAM,eACN4D,UAAW4J,EAAQ6L,QAGvB,eAACzP,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAY4J,cAAY,EAACjR,QAAQ,KAAKsH,UAAU,OAGhD,cAACD,EAAA,EAAD,CAAYrH,QAAQ,QAAQN,MAAM,gBAAgB4H,UAAU,IAA5D,SAEI,cAACE,EAAA,EAAD,CAAKF,UAAU,WAAWG,YAAY,cAAtC,SAEI,cAACE,EAAA,EAAD,CAAQC,KAAK,YAAYvF,MAAO6U,EAAWxP,UAAY,EAAIwP,EAAWxP,UAAY,cAKlG,cAACa,EAAA,EAAD,OAIJ,gCACI,eAAC0C,GAAA,EAAD,CAAM3D,UAAU,MAAM4D,aAAW,uBAAjC,UACI,eAACE,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACmM,GAAA,EAAD,CAAoBrW,UAAWkW,EAAWlX,SAE9C,cAACmL,GAAA,EAAD,CAAcC,QAAS0L,EAAW3P,kBAErC2P,EAAW7R,iBAAmB,eAAC+F,GAAA,EAAD,CAAUC,QAAM,EAAhB,UAC3B,cAACC,GAAA,EAAD,UACI,cAACoM,GAAA,EAAD,CAA2BtW,UAAWkW,EAAWlX,SAErD,cAACmL,GAAA,EAAD,CAAcC,QAAQ,kCACZ,KAEd,cAACwG,GAAA,EAAD,IACA,eAAC5G,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACqM,GAAA,EAAD,CAAYvW,UAAWkW,EAAWlX,SAEtC,cAACmL,GAAA,EAAD,CAAcC,QAAsC,IAA7B0L,EAAWzR,cAAsB,gBAAkB,wBAA0ByR,EAAWzR,mBAEnH,eAAC2F,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACsM,GAAA,EAAD,CAAiBxW,UAAWkW,EAAWlX,SAE3C,cAACmL,GAAA,EAAD,CAAcC,QAAsC,IAA7B0L,EAAW/C,cAAsB,gBAAkB,wBAA0B+C,EAAWzR,mBAEnH,cAACuM,GAAA,EAAD,IACA,eAAC5G,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACuM,GAAA,EAAD,CAAoBzW,UAAWkW,EAAWlX,SAE9C,cAACmL,GAAA,EAAD,CAAcC,QAAS0L,EAAWvR,YAAc,kCAAoC,cAExF,cAACqM,GAAA,EAAD,IACA,eAAC5G,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACwM,GAAA,EAAD,CAAO1W,UAAWkW,EAAWlX,SAEjC,cAACmL,GAAA,EAAD,CAAcC,QAAU0L,EAAWnF,OAAOmF,EAAWnF,MAAM/C,MAAQkI,EAAWnF,MAAM/C,MAAQ,qBAIpG,eAAC7H,EAAA,EAAD,CAAMpH,UAAW,EAAjB,UACI,eAACwX,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAGIha,MAAM,iBAIV,eAAC4J,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAY4J,cAAY,EAACjR,QAAQ,KAAKsH,UAAU,KAAhD,gCAGA,cAACD,EAAA,EAAD,CAAY3H,MAAM,gBAAlB,6DAGA,cAAC2H,EAAA,EAAD,CAAYrH,QAAQ,QAAQN,MAAM,gBAAgB4H,UAAU,IAA5D,SAEI,cAACE,EAAA,EAAD,CAAKF,UAAU,WAAWG,YAAY,cAAtC,SAEI,cAACE,EAAA,EAAD,CAAQC,KAAK,YAAYvF,MAAO+U,EAC5BhU,SAAU,SAACuG,EAAOoO,GACdV,EAASU,gBAMjC,cAACxP,EAAA,EAAD,UACI,cAAC2G,GAAA,EAAD,CAAQlH,KAAK,QAAQ3G,QAAS,WAlMlDgD,MAAM,wBAAyB,CAC3BC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB,UAAYC,aAAaC,QAAQ,QAEtDwB,KAAMlB,KAAKmB,UAAU,CACjBC,UAAW6Q,EACXgB,OAAQZ,MAKb1S,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UACdF,MAAK,SAAAlC,GAEFS,QAAQC,IAAIV,GACRA,EAAK4L,MAELnL,QAAQC,IAAIV,EAAK4L,QAIjBnL,QAAQC,IAAIV,GACZ2U,EAAc3U,GACdwQ,GAAgB,OAIrB3M,OAAM,SAAAC,GAGLrD,QAAQC,IAAIoD,OAkKA,+BAOhB,cAACmE,EAAA,EAAD,CAAUC,KAAMqI,EAAgBpI,iBAAkB,IAAMC,QAAS,SAACvH,GAAQ2P,GAAgB,IAA1F,SACI,cAAC,GAAD,CAAOpI,QAAS,SAACvH,GAAQ2P,GAAgB,IAAUnI,SAAS,UAA5D,kDCvNH0C,GAAc0K,0BAErB9X,GAAQ+X,aAAe,CAC3BC,QAAS,CACP3M,QAAS,CACP4M,KAAM,WAERlG,UAAW,CACTkG,KAAM,YAIVC,UAAW,CACTC,SAAU,CACRlY,KAAM,CACJV,MAAO,WAET6Y,eAAgB,CACd,YAAa,CACX7Y,MAAO,aAIb8Y,YAAa,CACXpY,KAAM,CACJV,MAAO,WAET6Y,eAAgB,CACd,YAAa,CACX7Y,MAAO,gBAOX+Y,GAAU,WACd,IAAM5M,EAAUC,eADI,EAEMwB,qBAAWC,IAAvBC,GAFM,EAEbC,MAFa,EAEND,UAcd,OATAM,qBAAU,WACR,IAAMmC,EAAOlL,KAAKC,MAAMR,aAAaC,QAAQ,SAC1CwL,EACDzC,EAAS,CAAC2B,KAAK,OAAOe,QAAQD,IACtBpE,EAAQ3J,SAASwW,SAASC,YAAsB9M,EAAQ3J,SAASwW,SAASC,WAAW,UAC3F9M,EAAQ9F,KAAK,aAEjB,IAGA,eAAC,KAAD,WACM,cAAC,KAAD,CAAO6S,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,cAAZ,SACE,cAAC,GAAD,MAEA,cAAC,KAAD,CAAOA,KAAK,kBAAZ,SACA,cAAC,GAAD,MAEF,cAAC,KAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,GAAD,MAEA,cAAC,KAAD,CAAOA,KAAK,gBAAZ,SACA,cAAE,GAAF,MAEA,cAAC,KAAD,CAAOA,KAAK,wBAAZ,SACI,cAAC,GAAD,UA2BDC,OAnBf,WAAgB,IAAD,EACYC,qBAAWzG,GHnHV,MGkHb,mBACN7E,EADM,KACAD,EADA,KAEb,OACE,cAACD,GAAYyL,SAAb,CAAsB3W,MAAO,CAAEoL,QAAOD,YAAtC,SACA,cAACyL,GAAA,EAAD,CAAe9Y,MAASA,GAAxB,SACE,cAAC+Y,GAAA,EAAD,UACA,cAAC,IAAD,UACA,qBAAK9X,UAAU,MAAf,SACE,cAAC,GAAD,eC9GO+X,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB3U,MAAK,YAAkD,IAA/C4U,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCKRO,GAAcC,QACW,cAA7BjT,OAAOzE,SAAS2X,UAEe,UAA7BlT,OAAOzE,SAAS2X,UAEhBlT,OAAOzE,SAAS2X,SAASC,MAAM,2DAqCnC,SAASC,GAAgBC,EAAOC,GAC9B3Y,UAAU4Y,cACPC,SAASH,GACTtV,MAAK,SAAC0V,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB7M,QACfnM,UAAU4Y,cAAcO,YAI1BxX,QAAQC,IACN,+GAKE+W,GAAUA,EAAOS,UACnBT,EAAOS,SAASN,KAMlBnX,QAAQC,IAAI,sCAGR+W,GAAUA,EAAOU,WACnBV,EAAOU,UAAUP,WAO5B/T,OAAM,SAAC+H,GACNnL,QAAQmL,MAAM,4CAA6CA,MCvFjEwM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SDSnB,SAAkBf,GACvB,GAA6C,kBAAmB3Y,UAAW,CAGzE,GADkB,IAAI2Z,IAAIlS,GAAwBpC,OAAOzE,SAASgZ,MACpDxU,SAAWC,OAAOzE,SAASwE,OAIvC,OAGFC,OAAOwU,iBAAiB,QAAQ,WAC9B,IAAMnB,EAAK,UAAMjR,GAAN,sBAEP4Q,KAgEV,SAAiCK,EAAOC,GAEtC5V,MAAM2V,EAAO,CACXzV,QAAS,CAAE,iBAAkB,YAE5BG,MAAK,SAAC0W,GAEL,IAAMC,EAAcD,EAAS7W,QAAQ+W,IAAI,gBAEnB,MAApBF,EAAS7Y,QACO,MAAf8Y,IAA8D,IAAvCA,EAAYre,QAAQ,cAG5CsE,UAAU4Y,cAAc9X,MAAMsC,MAAK,SAAC0V,GAClCA,EAAamB,aAAa7W,MAAK,WAC7BiC,OAAOzE,SAASsZ,eAKpBzB,GAAgBC,EAAOC,MAG1B5T,OAAM,WACLpD,QAAQC,IAAI,oEAtFVuY,CAAwBzB,EAAOC,GAI/B3Y,UAAU4Y,cAAc9X,MAAMsC,MAAK,WACjCzB,QAAQC,IACN,+GAMJ6W,GAAgBC,EAAOC,OC/B/ByB,GAKAvC,O","file":"static/js/main.9b095785.chunk.js","sourcesContent":["var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPerson24Px(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerson24Px);\nexport default __webpack_public_path__ + \"static/media/person-24px.11807604.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2, _line3, _line4, _line5, _line6, _line7, _line8, _line9;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFilter24Px(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"#000000\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 4,\n    y1: 21,\n    x2: 4,\n    y2: 14\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 4,\n    y1: 10,\n    x2: 4,\n    y2: 3\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 21,\n    x2: 12,\n    y2: 12\n  })), _line4 || (_line4 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 8,\n    x2: 12,\n    y2: 3\n  })), _line5 || (_line5 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 20,\n    y1: 21,\n    x2: 20,\n    y2: 16\n  })), _line6 || (_line6 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 20,\n    y1: 12,\n    x2: 20,\n    y2: 3\n  })), _line7 || (_line7 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1,\n    y1: 14,\n    x2: 7,\n    y2: 14\n  })), _line8 || (_line8 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 9,\n    y1: 8,\n    x2: 15,\n    y2: 8\n  })), _line9 || (_line9 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 17,\n    y1: 16,\n    x2: 23,\n    y2: 16\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFilter24Px);\nexport default __webpack_public_path__ + \"static/media/filter-24px.cf524642.svg\";\nexport { ForwardRef as ReactComponent };","export default [\r\n    {\r\n      featureType: \"all\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          weight: \"2.00\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"all\",\r\n      elementType: \"geometry.stroke\",\r\n      stylers: [\r\n        {\r\n          color: \"#9c9c9c\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"all\",\r\n      elementType: \"labels.text\",\r\n      stylers: [\r\n        {\r\n          visibility: \"on\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"landscape\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          color: \"#f2f2f2\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"landscape\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#ffffff\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"landscape.man_made\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#ffffff\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"poi\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          saturation: -100,\r\n        },\r\n        {\r\n          lightness: 45,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#eeeeee\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"labels.text.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#7b7b7b\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road\",\r\n      elementType: \"labels.text.stroke\",\r\n      stylers: [\r\n        {\r\n          color: \"#ffffff\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road.highway\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          visibility: \"simplified\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"road.arterial\",\r\n      elementType: \"labels.icon\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"transit\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          visibility: \"off\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"water\",\r\n      elementType: \"all\",\r\n      stylers: [\r\n        {\r\n          color: \"#46bcec\",\r\n        },\r\n        {\r\n          visibility: \"on\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"water\",\r\n      elementType: \"geometry.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#c8d7d4\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"water\",\r\n      elementType: \"labels.text.fill\",\r\n      stylers: [\r\n        {\r\n          color: \"#070707\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: \"water\",\r\n      elementType: \"labels.text.stroke\",\r\n      stylers: [\r\n        {\r\n          color: \"#ffffff\",\r\n        },\r\n      ],\r\n    },\r\n  ];","import React, { useEffect, useLayoutEffect } from \"react\";\r\nimport { NavLink } from 'react-router-dom'\r\nimport {\r\n  GoogleMap,\r\n  useLoadScript,\r\n  Marker,\r\n  InfoWindow,\r\n} from \"@react-google-maps/api\";\r\nimport usePlacesAutocomplete, {\r\n  getGeocode,\r\n  getLatLng,\r\n} from \"use-places-autocomplete\";\r\nimport {\r\n  Combobox,\r\n  ComboboxInput,\r\n  ComboboxPopover,\r\n  ComboboxList,\r\n  ComboboxOption,\r\n} from \"@reach/combobox\";\r\nimport { formatRelative } from \"date-fns\";\r\nimport { ReactComponent as PersonLogo } from  '../icons/person-24px.svg';\r\nimport { ReactComponent as FilterLogo } from  '../icons/filter-24px.svg';\r\nimport \"@reach/combobox/styles.css\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\nimport mapStyles from \"./mapStyles\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { Card, CardActions,Chip, Avatar, Box,  Typography, Button, CardContent, makeStyles, ListItemSecondaryAction } from '@material-ui/core';\r\nimport {AccessibleForward, AirlineSeatLegroomExtra, Info, Person, PersonAddDisabled, PlayCircleFilledWhite, PregnantWoman, Wc} from '@material-ui/icons'; \r\nimport { indigo } from \"@material-ui/core/colors\";\r\nimport { withTheme } from \"@material-ui/styles\";\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: \"white\", \r\n    \r\n  },\r\n  icons:\r\n  {\r\n    fill:indigo[800], \r\n  }\r\n}));\r\n\r\nconst libraries = [\"places\"];\r\nconst mapContainerStyle = {\r\n  height: \"100vh\",\r\n  width: \"100vw\",\r\n};\r\nconst options = {\r\n  styles: mapStyles,\r\n  disableDefaultUI: true,\r\n  zoomControl: false,\r\n};\r\nconst center = {\r\n  lat: 51.501286,\r\n  lng: 0.046541,\r\n};  \r\n\r\nconst Map = () => {\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n    libraries,\r\n  });\r\n\r\n  const [currentLat, setLat] = React.useState(51.501286);\r\n  const [currentLng, setLng] = React.useState(0.046541);\r\n  const [zoom, setZoom] = React.useState(14);\r\n  const [doneWithMapLoad, doneMapLoad] = React.useState(false);\r\n\r\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\r\n\r\n  const handleExtraZoom = () => {\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  const handleSnackbarClose = (event, reason) => {\r\n\r\n\r\n    setSnackbarOpen(false);\r\n  };\r\n  \r\n  \r\n  //const [currentPosition, setCurrentPosition] = React.useState({lng:center.lng, lat:center.lat});\r\n  \r\n  //const [ignored, forceUpdate] = React.useReducer(x => x + 1, 0);\r\n\r\n\r\n\r\n\r\n\r\n  const mapRef = React.useRef();\r\n  const onMapLoad = React.useCallback((map) => {\r\n    mapRef.current = map;\r\n    doneMapLoad(true)\r\n  }, []);\r\n\r\n  const panTo = React.useCallback(({ lat, lng }) => {\r\n    mapRef.current.panTo({ lat, lng });\r\n    mapRef.current.setZoom(14);\r\n    changePositionState();\r\n  }, []);\r\n\r\n  const changePositionState = () =>{\r\n    \r\n    console.log(\"Position changed.\")\r\n    \r\n    setLat(mapRef.current.getCenter().lat());\r\n    setLng(mapRef.current.getCenter().lng());\r\n    changeZoomState();\r\n  } \r\n  const changeZoomState = () => {\r\n    if(!doneWithMapLoad){\r\n      return 0; \r\n    }\r\n    setZoom(mapRef.current.getZoom())\r\n    if(zoom<=12){\r\n      handleExtraZoom()\r\n    }\r\n    else{\r\n      handleSnackbarClose()\r\n    }\r\n  }\r\n  \r\n  if (loadError) return \"Error\";\r\n  if (!isLoaded) return \"Loading...\";\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      \r\n    <NavLink to=\"/profile\" className=\"profile\"><PersonLogo className=\"profile\" /></NavLink>\r\n    <NavLink to=\"/filter\" className=\"filter\"><FilterLogo className=\"filter\" /></NavLink>\r\n      <Locate panTo={panTo} />\r\n      <Search panTo={panTo} />\r\n\r\n      <GoogleMap\r\n        key=\"map\"\r\n        mapContainerStyle={mapContainerStyle}\r\n        zoom={zoom}\r\n        center={center}\r\n        options={options}\r\n        // onClick={onMapClick}\r\n        onLoad={onMapLoad}\r\n        onDragEnd={changePositionState}\r\n        onZoomChanged={changeZoomState}\r\n      >\r\n\r\n\r\n      <Markers key={currentLat*currentLng} currentLat={currentLat} currentLng={currentLng} zoom={zoom}></Markers>\r\n\r\n      <Snackbar open={snackbarOpen} autoHideDuration={5000} onClose={handleSnackbarClose}>\r\n        <Alert onClose={handleSnackbarClose} severity=\"warning\">\r\n          Zoom in more to load the toilets properly!\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n        \r\n\r\n\r\n\r\n\r\n      </GoogleMap>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Locate({ panTo }) {\r\n  return (\r\n    <button\r\n      className=\"locate\"\r\n      onClick={() => {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (position) => {\r\n            panTo({\r\n              lat: position.coords.latitude,\r\n              lng: position.coords.longitude,\r\n            });\r\n          },\r\n          () => null\r\n        );\r\n      }}\r\n    >\r\n      <img src=\"./my_loc.svg\" alt=\"loc\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction Search({ panTo }) {\r\n  const {\r\n    ready,\r\n    value,\r\n    suggestions: { status, data },\r\n    setValue,\r\n    clearSuggestions,\r\n  } = usePlacesAutocomplete({\r\n    requestOptions: {\r\n      location: { lat: () => 43.6532, lng: () => -79.3832 },\r\n      radius: 70 * 1000,\r\n    },\r\n  });\r\n\r\n  // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\r\n\r\n  const handleInput = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleSelect = async (address) => {\r\n    setValue(address, false);\r\n    clearSuggestions();\r\n\r\n    try {\r\n      const results = await getGeocode({ address });\r\n      const { lat, lng } = await getLatLng(results[0]);\r\n      panTo({ lat, lng });\r\n    } catch (error) {\r\n      console.log(\" Error: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      \r\n      <Combobox onSelect={handleSelect}>\r\n        <ComboboxInput\r\n          value={value}\r\n          onChange={handleInput}\r\n          disabled={!ready}\r\n          placeholder=\"Search\"\r\n        />\r\n        <ComboboxPopover>\r\n          <ComboboxList>\r\n            {status === \"OK\" &&\r\n              data.map(({ id, description }) => (\r\n                <ComboboxOption key={description} value={description} />\r\n              ))}\r\n          </ComboboxList>\r\n        </ComboboxPopover>\r\n      </Combobox>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst Markers = ({currentLat, currentLng}) => {\r\n  const [toilets, setToilets] = React.useState([]);\r\n  const [selected, setSelected] = React.useState(null);\r\n  const chipStyle = useStyles(); \r\n  useLayoutEffect(()=>{   \r\n    console.log(\"useEffect triggered\")\r\n    fetch('/api/toilet/nearbyToilets?lat='+currentLat+'&lng='+currentLng+\"&maxDistance=\"+10*1000,{\r\n      method:\"GET\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\", \r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\"), \r\n            },\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n         console.log(\"Found toilets, \"+result.length+\" toilets\"); \r\n         \r\n         const filter=JSON.parse(localStorage.getItem(\"filterSettings\"));\r\n         \r\n         var filteredToilets=[];\r\n         if(!filter||!result||result.length===0){\r\n           setToilets(result);\r\n           console.log(\"no filter or toilets found.\");\r\n           return;\r\n         }\r\n         result.forEach((toilet) => {\r\n           \r\n           var toiletFits=true;\r\n           if(filter.differentlyAbled&&filter.differentlyAbled!==\"\"&&filter.differentlyAbled===\"true\"&&toilet.differentlyAbled!==null&&toilet.differentlyAbled===false){\r\n             //console.log({toilet, filter})\r\n             toiletFits=false;\r\n           }\r\n           if(filter.indianPreferred!==\"\"&&toilet.isIndian!==null&&((filter.indianPreferred===\"true\"&&toilet.isIndian===false)||(filter.indianPreferred===\"false\"&&toilet.isIndian===true))){\r\n             //console.log({toilet, filter})\r\n             toiletFits=false;\r\n           }\r\n           if(filter.maximumPrice!==\"\"&&toilet.restroomPrice!==null&&parseInt(filter.maximumPrice)<toilet.restroomPrice){\r\n             toiletFits=false;\r\n           }\r\n           if(filter.isAvailable&&filter.isAvailable!==\"\"&&toilet.isAvailable!==null&&((filter.isAvailable===\"true\"&&toilet.isAvailable===false))){\r\n             toiletFits=false;\r\n           }\r\n           if(filter.needsToiletPaper===\"true\"&&toilet.hasToiletPaper!==null&&toilet.hasToiletPaper===false){\r\n             toiletFits=false;\r\n           }\r\n           if(filter.gender!==\"\"&&toilet.gender!==null&&((filter.gender===\"male\"&&toilet.gender===\"a\")||\r\n                   (filter.gender===\"female\"&&toilet.gender===\"b\")\r\n                   ||(filter.gender===\"other\"&&!toilet.gender===\"c\"))){\r\n                     toiletFits=false;\r\n                   }\r\n           if(toiletFits){\r\n             //console.log({toilet, filter})\r\n             filteredToilets.push(toilet);\r\n           }\r\n           else{\r\n             console.log({toilet, filter});\r\n           }\r\n           \r\n       });\r\n        setToilets(filteredToilets); \r\n        console.log(\"Filtered toilets, \"+filteredToilets.length+\" toilets\");\r\n    })\r\n },[])\r\n\r\n const handleMarkerClick = (marker) => {\r\n  fetch(\"/api/toilet/oneToilet\", {\r\n    method: \"post\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n    },\r\n    body: JSON.stringify({\r\n        toilet_id: marker._id\r\n    })\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => {\r\n        console.log(data);\r\n        setSelected(data)\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n    //setSelected(marker)\r\n}\r\n\r\n return(\r\n   <div>\r\n     {toilets.map((marker) => (\r\n          <Marker\r\n            key={`${marker._id}`}\r\n            position={{ lat: marker.lat, lng: marker.lng }}\r\n            onClick={() => {\r\n              handleMarkerClick(marker);\r\n              //setSelected(marker);\r\n            }}\r\n            \r\n            icon ={{\r\n              url: `https://icon-library.com/images/restroom-icon-png/restroom-icon-png-18.jpg`,\r\n              \r\n              origin: new window.google.maps.Point(0, 0),\r\n              anchor: new window.google.maps.Point(15, 15),\r\n              scaledSize: new window.google.maps.Size(50, 50),\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {selected ? (\r\n          <InfoWindow\r\n            position={{ lat: selected.lat, lng: selected.lng }}\r\n            onCloseClick={() => {\r\n              setSelected(null);\r\n            }}\r\n          >\r\n            <div>\r\n            <Card>\r\n            <CardContent>\r\n            \r\n            \r\n            <Typography variant=\"body2\" component=\"p\">\r\n                  {selected.landmarkName}\r\n            </Typography>\r\n            \r\n            <Box component=\"fieldset\" borderColor=\"transparent\">\r\n                  {selected.avgRating > 0 ? <Rating name=\"read-only\" value={selected.avgRating > 0 ? selected.avgRating: 0} readOnly />: null}\r\n            </Box>\r\n            <div>\r\n                  {selected.differentlyAbled ? \r\n                  <span><Chip variant=\"outlined\" icon={<AccessibleForward className={chipStyle.icons}/>} size=\"small\" label=\"Different abled friendly\" className = {chipStyle.root}/>&nbsp;</span> \r\n                   : null}\r\n                  \r\n                  {selected.toiletType === \"w\" ? <span> <Chip  variant=\"outlined\" icon={<AirlineSeatLegroomExtra className={chipStyle.icons}/>}   size=\"small\" label=\"Commode\" className = {chipStyle.root}/>&nbsp; </span>: null}\r\n                  {selected.gender === \"a\" ? <span> <Chip   variant=\"outlined\" icon={<PregnantWoman className={chipStyle.icons}/>}   size=\"small\" label=\"Ladies\" className = {chipStyle.root}/>&nbsp; </span>: null}\r\n                  {selected.gender === \"b\" ? <span> <Chip   variant=\"outlined\" icon={<Person className={chipStyle.icons}/>}   size=\"small\" label=\"Gents\" className = {chipStyle.root}/>&nbsp; </span>: null}\r\n                  {selected.gender === \"c\" ? <span> <Chip   variant=\"outlined\" icon={<Wc className={chipStyle.icons}/>} label=\"Unisex\" size=\"small\" className = {chipStyle.root}/>&nbsp; </span>: null}\r\n\r\n                  \r\n                 \r\n                 \r\n            </div>\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            </CardContent>\r\n            <CardActions>\r\n                <NavLink to={'/one_toilet/'+selected._id}><Chip  icon= {<Info style={{color:\"white\"}}/>} label = \"Details\" style={{backgroundColor:\"#3f50b5\", color:\"white\", fontWeight:\"bold\"}}></Chip></NavLink>     \r\n            </CardActions>\r\n            </Card>\r\n            </div>\r\n          </InfoWindow>\r\n        ) : null}\r\n\r\n   </div>\r\n )\r\n\r\n}\r\n\r\nexport default Map;","import React from 'react' \r\nimport {List, ListItem, ListItemIcon, ListItemText, Divider, Container, AppBar, Typography, Button, Toolbar, IconButton, Paper} from '@material-ui/core';\r\nimport { ArrowBack, ThreeDRotation, Wc, Settings, Person, AccountBalance, Toll, Close, Add} from '@material-ui/icons';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 360,\r\n     \r\n    },\r\n  }));\r\n\r\n\r\n  function ListItemLink(props) {\r\n    return <ListItem button component=\"a\" {...props} />;\r\n  }\r\n\r\n  function SimpleList() {\r\n    const classes = useStyles();\r\n  \r\n    return (\r\n      <div className={classes.root}>\r\n        <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n        <NavLink to=\"/\" style={{ textDecoration: 'none', color: '#212121' }}>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Wc />\r\n            </ListItemIcon>\r\n             \r\n            <ListItemText primary=\"Find a restroom\" />\r\n          \r\n          </ListItem>\r\n          </NavLink>\r\n\r\n\r\n          <NavLink to=\"/profile_info\" style={{ textDecoration: 'none', color: '#212121' }}>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Person />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Profile info\" />\r\n            </ListItem>\r\n          </NavLink>\r\n          \r\n          <NavLink to=\"/toilets_leased\" style={{ textDecoration: 'none', color: '#212121' }}>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <ListAltIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Toilets Leased\" />\r\n            </ListItem>\r\n          </NavLink>\r\n\r\n\r\n\r\n          <NavLink to=\"/profile_info\" style={{ textDecoration: 'none', color: '#212121' }}>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary=\"Settings\" />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <AccountBalance />\r\n            </ListItemIcon>\r\n            \r\n            <ListItemText primary=\"Wallet\" />\r\n          </ListItem>\r\n          </NavLink>\r\n\r\n          <NavLink to=\"/new_toilet\" style={{ textDecoration: 'none', color: '#212121' }}><ListItem button>\r\n            <ListItemIcon>\r\n              <Add />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary=\"Add restroom\" />\r\n          </ListItem></NavLink>\r\n          \r\n\r\n          \r\n\r\n        </List>\r\n       \r\n        \r\n      </div>\r\n    );\r\n  }\r\n  \r\nconst Profile = () =>\r\n{\r\n    const history = useHistory()\r\n    return (\r\n        <div>\r\n           \r\n  \r\n             <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\"  color=\"primary\" aria-label=\"menu\">\r\n                        <Close onClick = {\r\n                            history.goBack\r\n                        }/>\r\n                    </IconButton>\r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n            <main>\r\n                <Container maxWidth=\"xs\">\r\n                <Typography variant=\"h3\" align=\"left\">&nbsp; Hello,</Typography>\r\n                </Container>\r\n                <Container maxWidth=\"xs\" minHeigth=\"20vh\">\r\n                <Typography variant=\"h4\" align=\"left\">&nbsp;&nbsp;    {JSON.parse(localStorage.getItem('user')).name}</Typography>\r\n                </Container>\r\n                <Container maxWidth=\"xs\" align=\"center\" >\r\n                    <SimpleList />\r\n                </Container>\r\n                \r\n                \r\n            </main>\r\n         \r\n             \r\n            \r\n            \r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default Profile; ","export default __webpack_public_path__ + \"static/media/logo.847a8ddd.svg\";","\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {Link,NavLink,useHistory} from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Box, Avatar,  FormLabel} from '@material-ui/core';\r\nimport logo from '../logo.svg';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { AccountCircle, ArrowBack, Person, PortableWifiOff } from '@material-ui/icons';\r\nimport {UserContext} from '../App'; \r\nimport { Close } from '@material-ui/icons';\r\nimport {IconButton} from '@material-ui/core';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: theme.spacing(3),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  toolbar: {\r\n    minHeight: 65,\r\n    alignItems: 'flex-start',\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    alignSelf: 'center',\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst ProfileInfo = () => {\r\n  const [open, setOpen] = React.useState(false);\r\n  \r\n  const {state,dispatch} = useContext(UserContext)\r\n  \r\n\r\n   \r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory()\r\n    // const [name,setName] = useState(\"\")\r\n    // const [password,setPassword] = useState(\"\")\r\n    // const [email,setEmail] = useState(\"\")\r\n    // const [phone,setPhone] = useState(\"\")\r\n    const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append('Authorization', \"Bearer \"+localStorage.getItem(\"jwt\"));\r\n\r\n    const myRequest = new Request('/api/profile/userData', {\r\n        method: 'GET',\r\n        headers: myHeaders\r\n    });\r\n    \r\n    fetch(myRequest)\r\n    .then(res => res.json())\r\n    .then(\r\n    (result) => {\r\n      setIsLoaded(true);\r\n      setItems(result);\r\n    },\r\n    \r\n    (error) => {\r\n      setIsLoaded(true);\r\n      setError(error);\r\n    }\r\n  )\r\n}, [])\r\n\r\n  \r\n\r\nif (!isLoaded)\r\n{\r\n  return (<div></div>); \r\n  \r\n}\r\nelse\r\n{\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\"  color=\"primary\" aria-label=\"menu\">\r\n                        <ArrowBack onClick = {\r\n                            history.goBack\r\n                        }/>\r\n                    </IconButton>\r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n      \r\n      \r\n<AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                   \r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n          \r\n       <br>\r\n       </br>\r\n       <br>\r\n       </br>\r\n       \r\n     <Container className={classes.container} maxWidth=\"xs\" container >\r\n        {/*<img src=\"./public_icons/toilet-paper.png\" className = \"logoImg\"></img>\r\n        <Typography><Box fontWeight=\"fontWeightBold\">Flush away your worries</Box></Typography> */}\r\n\r\n        <Container align=\"center\">\r\n        <Avatar style={{width:\"80px\", height:\"80px\"}}>\r\n          <AccountCircle style={{width:\"80px\", height:\"80px\"}} />\r\n        </Avatar>\r\n        <br></br>\r\n        <Typography>{items.name}</Typography>\r\n        </Container>\r\n\r\n        \r\n        <form onSubmit={(e)=>{e.preventDefault()}}>\r\n          <Grid container spacing={3} style={{paddingTop:40}}>\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={2} >\r\n              <Grid item xs={12} >\r\n              <FormLabel component=\"legend\">Name</FormLabel>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth  name=\"name\" size=\"small\" variant=\"outlined\" value = {items.name} />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n              <FormLabel component=\"legend\">Contact number</FormLabel>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth  name=\"phone\" size=\"small\" variant=\"outlined\" value = {items.phone} />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n              <FormLabel component=\"legend\">Email address</FormLabel>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth  name=\"email\" size=\"small\" variant=\"outlined\" value = {items.email} />\r\n                </Grid>\r\n                {/* <Grid item xs={12}>\r\n                  <TextField fullWidth label=\"Password\" name=\"password\" size=\"small\" type=\"password\" variant=\"outlined\" onChange={(e)=>setPassword(e.target.value)}/>\r\n                </Grid> */}\r\n\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n            <Button color=\"primary\" fullWidth type=\"submit\" variant=\"contained\">\r\n              COMMIT CHANGES\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} align=\"left\">\r\n            <Typography>\r\n              \r\n                <Button variant=\"contained\" style={{backgroundColor:\"#3f50b5\", color:\"white\"}} onClick={()=>{\r\n              localStorage.clear()\r\n              dispatch({type:\"CLEAR\"})\r\n              history.push('/login')\r\n            }}>\r\n                  Logout\r\n      </Button>\r\n              \r\n            </Typography>\r\n\r\n          </Grid>\r\n          \r\n          </Grid>\r\n\r\n          \r\n          \r\n        \r\n      </form>\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n  <Alert  severity=\"error\">\r\n    Your form details are not valid! \r\n  </Alert>\r\n</Snackbar>\r\n    </Container>\r\n</div>\r\n  );\r\n}\r\n\r\n  \r\n};\r\n\r\nexport default ProfileInfo;","\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Link,NavLink,useHistory} from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport logo from '../logo.svg';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: theme.spacing(3),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  toolbar: {\r\n    minHeight: 65,\r\n    alignItems: 'flex-start',\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    alignSelf: 'center',\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst SignUp = () => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  \r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory()\r\n    const [name,setName] = useState(\"\")\r\n    const [password,setPassword] = useState(\"\")\r\n    const [email,setEmail] = useState(\"\")\r\n    const [phone,setPhone] = useState(\"\")\r\n\r\n    const uploadFields = ()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n          setOpen(true);\r\n            return\r\n        }\r\n        fetch(\"/api/profile/signup\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                phone\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n            console.log(data);\r\n           if(data.error){\r\n               console.log(data.error); \r\n               setOpen(true);\r\n           }\r\n           else{\r\n               history.push('/LogIn')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      \r\n      \r\n<AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                   \r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n          \r\n       <br>\r\n       </br>\r\n       <br>\r\n       </br>\r\n      <Container className={classes.container} maxWidth=\"xs\" container align=\"center\">\r\n        <img src=\"./public_icons/logo.png\" className = \"logoImg\"></img>\r\n        <Typography><Box fontWeight=\"fontWeightBold\">Flush away your worries</Box></Typography>\r\n        <form onSubmit={(e)=>{e.preventDefault()}}>\r\n          <Grid container spacing={3} style={{paddingTop:40}}>\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth label=\"Name\" name=\"name\" size=\"small\" variant=\"outlined\" onChange={(e)=>setName(e.target.value)}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth label=\"Phone\" name=\"phone\" size=\"small\" variant=\"outlined\" onChange={(e)=>setPhone(e.target.value)}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth label=\"Email\" name=\"email\" size=\"small\" variant=\"outlined\" onChange={(e)=>setEmail(e.target.value)}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField fullWidth label=\"Password\" name=\"password\" size=\"small\" type=\"password\" variant=\"outlined\" onChange={(e)=>setPassword(e.target.value)}/>\r\n                </Grid>\r\n\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n            <Button color=\"primary\" fullWidth type=\"submit\" variant=\"contained\" onClick={()=>uploadFields()}>\r\n              Sign up\r\n            </Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} align=\"center\">\r\n            <Typography>\r\n              \r\n                Already have an account? <Link to=\"/LogIn\" style={{ textDecoration: 'none', color:\"#3f50b5\"}}><Box fontWeight=\"fontWeightBold\">Login</Box></Link>\r\n\r\n              \r\n            </Typography>\r\n\r\n          </Grid>\r\n          \r\n          </Grid>\r\n\r\n          \r\n          \r\n        \r\n      </form>\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n  <Alert  severity=\"error\">\r\n    Your form details are not valid! \r\n  </Alert>\r\n</Snackbar>\r\n    </Container>\r\n</div>\r\n  );\r\n};\r\n\r\nexport default SignUp;","\r\nimport React,{useState,useContext,} from 'react'\r\nimport {Link,NavLink,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport {AppBar, Toolbar, Typography, Box} from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n//import Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst LogIn = () => {\r\n  const classes = useStyles();\r\n\r\n  const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const [password,setPasword] = useState(\"\")\r\n    const [email,setEmail] = useState(\"\")\r\n    const uploadFields = ()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            alert(\"Please enter a valid email\")\r\n            return\r\n        }\r\n        fetch(\"/api/profile/login\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                password,\r\n                email\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n           if(data.error){\r\n              alert(data.error)\r\n           }\r\n           else{\r\n               localStorage.setItem(\"jwt\",data.token)\r\n               \r\n               localStorage.setItem(\"user\", JSON.stringify(data.user))\r\n               console.log(\"jwt token\", data.token)\r\n               console.log(\"User data\", data.user); \r\n               dispatch({type:\"USER\",payload:data.user})\r\n               history.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n     <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                   \r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n          \r\n       <br>\r\n       </br>\r\n       <br>\r\n       </br>\r\n      <Container className={classes.container} maxWidth=\"xs\" container align=\"center\">\r\n        <img src=\"./public_icons/logo.png\" className = \"logoImg\"></img>\r\n        <Typography><Box fontWeight=\"fontWeightBold\">Get moving with flush</Box></Typography>\r\n        </Container>\r\n        \r\n    <Container className={classes.container} maxWidth=\"xs\">\r\n      <form onSubmit={(e)=>{e.preventDefault()}}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField fullWidth label=\"Email\" name=\"email\" size=\"small\" variant=\"outlined\" onChange={(e)=>setEmail(e.target.value)} />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  name=\"password\"\r\n                  size=\"small\"\r\n                  type=\"password\"\r\n                  variant=\"outlined\"\r\n                  onChange={(e)=>setPasword(e.target.value)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Button color=\"primary\" fullWidth type=\"submit\" variant=\"contained\" onClick={()=>uploadFields()}>\r\n              Log in\r\n            </Button>\r\n          </Grid>\r\n           \r\n          <Grid item xs={12} align=\"center\">\r\n            <Typography>\r\n              \r\n               New User? <Link to=\"/SignUp\" style={{ textDecoration: 'none',  color:\"#3f50b5\" }}><Box fontWeight=\"fontWeightBold\">Signup</Box></Link>\r\n\r\n              \r\n            </Typography>\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;","\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Link,NavLink,useHistory} from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { Close } from '@material-ui/icons';\r\nimport {AppBar, Toolbar, IconButton} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst sliderMarks = [\r\n    {\r\n      value: 0,\r\n      label: '0',\r\n    },\r\n    {\r\n      value: 100,\r\n      label: '500',\r\n    },\r\n  ];\r\nfunction valuetext(value) {\r\n    return `${value*5}`;\r\n  }\r\nfunction valueLabelFormat(value){\r\n    return `${value*5}`;\r\n}\r\n\r\nconst Filter = () => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory()\r\n  const [needsToiletPaper,setPaper] = useState(\"\")\r\n  const [gender,setGender] = useState(\"\")\r\n  const [differentlyAbled,setAbled] = useState(\"\")\r\n  const [maximumPrice,setMax] = useState(\"\")\r\n  const [indianPreferred,setStyle] = useState(\"\")\r\n  const [filter,setFilter] = useState(\"\")\r\n  const [isAvailable,setAvailable] = useState(\"\")\r\n\r\n  const filterResults = () => {\r\n    \r\n    localStorage.setItem(\"filterSettings\", JSON.stringify({isAvailable, indianPreferred, needsToiletPaper, gender, differentlyAbled, maximumPrice}))\r\n    history.push(\"/\");\r\n  }\r\n  useEffect( ()=>{\r\n        var filter=JSON.parse(localStorage.getItem(\"filterSettings\"));\r\n        if(!filter){\r\n            filter={\r\n                indianPreferred:\"false\",\r\n                needsToiletPaper:\"false\",\r\n                gender:\"male\",\r\n                differentlyAbled:\"false\",\r\n                maximumPrice:\"500\",\r\n                isAvailable:\"true\",\r\n\r\n            }\r\n        }\r\n        setFilter(filter);\r\n        console.log(filter);\r\n        console.log(String(filter.indianPreferred))\r\n        \r\n  })\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\"  color=\"primary\" aria-label=\"menu\">\r\n                        <Close onClick = {\r\n                            history.goBack\r\n                        }/>\r\n                    </IconButton>\r\n                    \r\n                    \r\n                </Toolbar>\r\n            </AppBar>\r\n      <Container className={classes.container} maxWidth=\"xs\" paddingTop=\"20vh\">\r\n      <form onSubmit={(e)=>{e.preventDefault()}}>\r\n        <Grid container \r\n            spacing={3}\r\n            \r\n        >\r\n            <Grid item xs={12}>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h4\" align=\"center\">Filter Search Results</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"body1\" align=\"center\">Tip: Leave any of the fields blank if you don't have a preference.</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField fullWidth id=\"indianPreferred\" label=\"Do you prefer Indian or Western style?\"  variant=\"filled\" select onChange={(e)=>setStyle(e.target.value)}>\r\n                            <MenuItem value=\"true\">Indian</MenuItem>\r\n                            <MenuItem value=\"false\">Western</MenuItem>\r\n                        </TextField>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField fullWidth id=\"needsToiletPaper\" label=\"Do you require toilet paper?\"  variant=\"filled\" select onChange={(e)=>setPaper(e.target.value)}>\r\n                            <MenuItem value=\"true\">Yes</MenuItem>\r\n                            <MenuItem value=\"false\">No</MenuItem>\r\n                        </TextField>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField fullWidth id=\"gender\" label=\"Your Gender?\" variant=\"filled\" select onChange={(e)=>setGender(e.target.value)}>\r\n                            <MenuItem value=\"male\">Male</MenuItem>\r\n                            <MenuItem value=\"female\">Female</MenuItem>\r\n                            <MenuItem value=\"other\">Other</MenuItem>\r\n                        </TextField>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField fullWidth id=\"differentlyAbled\" label=\"Are you differently-abled?\" variant=\"filled\" select onChange={(e)=>setAbled(e.target.value)}>\r\n                            <MenuItem value=\"true\">Yes</MenuItem>\r\n                            <MenuItem value=\"false\">No</MenuItem>\r\n                        </TextField>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField fullWidth id=\"availability\" label=\"Toilet availability\" variant=\"filled\" select onChange={(e)=>setAvailable(e.target.value)}>\r\n                            <MenuItem value=\"true\">Show only available toilets</MenuItem>\r\n                            <MenuItem value=\"false\">Show all toilets</MenuItem>\r\n                        </TextField>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                    <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n                        Maximum price\r\n                    </Typography>\r\n                    <Slider\r\n                        defaultValue={20}\r\n                        valueLabelFormat={valueLabelFormat}\r\n                        getAriaValueText={valuetext}\r\n                        aria-labelledby=\"discrete-slider-custom\"\r\n                        step={10}\r\n                        valueLabelDisplay=\"auto\"\r\n                        marks={sliderMarks}\r\n                        onChange={ (e, val) => setMax(val) }\r\n                    />\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Button color=\"primary\" fullWidth type=\"submit\" variant=\"contained\" onClick={()=>filterResults()}>\r\n                    Done\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    </Container>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Filter;","\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Link,NavLink,useHistory} from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { Close } from '@material-ui/icons';\r\nimport {AppBar, Toolbar, IconButton} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\n\r\nconst ToiletsLeased = (props) => {\r\n  \r\n  \r\n  const classes = useStyles();\r\n  const [ownedToilets, setOwnedToilets] = useState([{landmarkName:\"Loading\", avgRating:\"\"}]);\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  \r\n  \r\n  useEffect(() => {\r\n\r\n    fetch('/api/toilet/allToilets',{\r\n         \r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      \r\n      var ownedToilets = [];\r\n      const user=JSON.parse(localStorage.getItem('user'));\r\n  \r\n      if(!result){\r\n        return;\r\n      }\r\n      result.forEach((toilet) => {\r\n        console.log(user);\r\n        if(String(toilet.owner._id)===String(user._id)){\r\n            ownedToilets.push(toilet);\r\n        }\r\n        \r\n      });\r\n      setOwnedToilets(ownedToilets);\r\n      setLoading(false)\r\n\r\n      \r\n      \r\n    });\r\n  \r\n    \r\n    \r\n  \r\n  }, []);\r\n  \r\n  const switchToggled = () => {\r\n    //console.log(e);\r\n    fetch('/api/toilet/changeAvailability',{\r\n      method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\", \r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\"), \r\n            },\r\n            body:JSON.stringify({\r\n                toilet_id: \"incomplete\"\r\n            })\r\n    })\r\n    \r\n  }\r\n  \r\n  \r\n  if (loading)\r\n  {\r\n    return (<div></div>); \r\n  }\r\n  else\r\n  {\r\n    return (\r\n      <div>\r\n        <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                  <Toolbar>\r\n                      <IconButton edge=\"start\"  color=\"primary\" aria-label=\"menu\">\r\n                          <Close onClick = {\r\n                              history.goBack\r\n                          }/>\r\n                      </IconButton>\r\n                      \r\n                      \r\n                  </Toolbar>\r\n              </AppBar> \r\n        <Container className={classes.container}  minHeight=\"20vh\">\r\n        \r\n              <Typography variant=\"h4\" align=\"center\">Toilets Leased</Typography>\r\n              <Typography variant=\"h6\" align=\"center\">You own {ownedToilets.length} toilets</Typography>\r\n          </Container>\r\n  \r\n        <Container className={classes.container} maxWidth=\"xs\" paddingTop=\"20vh\">\r\n        \r\n        <List className={classes.root}>\r\n        <Divider component=\"li\" />\r\n        \r\n        {ownedToilets.map((toilet) => (\r\n              <div class=\"row\">\r\n                <ListItem>\r\n                <ListItemText primary={toilet.landmarkName} secondary={toilet.avgRating === -1?\"Not yet rated\":String(toilet.avgRating+\"/5\")} />\r\n                <FormControlLabel\r\n      control={<Switch name={toilet._id} size=\"normal\" color=\"primary\"  />}\r\n      label=\"Available\"\r\n      //issues, there is a switchToggled function above that should make the post req}\r\n    />\r\n                </ListItem>\r\n                <Divider component=\"li\" />\r\n            </div>\r\n          ))}\r\n                          \r\n        \r\n        </List>\r\n            <br></br>\r\n\r\n            <Button color=\"primary\" fullWidth type=\"submit\" variant=\"contained\" onClick={history.goBack}>\r\n              Commit changes\r\n            </Button>\r\n        \r\n        </Container>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n  \r\n  \r\n  \r\n};\r\n\r\nexport default ToiletsLeased;","export const initialState = null\r\n\r\nexport const reducer = (state,action)=>{\r\n    if(action.type===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type===\"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type===\"UPDATEPIC\"){\r\n        return {\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n} ","import React, { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport Geocoder from \"react-map-gl-geocoder\";\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport {InputAdornment, Typography, AppBar, Toolbar, Button, Container, IconButton, Radio, RadioGroup, Snackbar, FormControl, FormGroup, Checkbox, FormLabel, FormControlLabel } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport mapboxgl from 'mapbox-gl'\r\nimport { Bathtub, Search, Wc, PhotoCamera, Backspace, ArrowBack, PinDrop, EditLocationOutlined, EditLocationSharp, AddLocation } from '@material-ui/icons';\r\nimport MapGL, {GeolocateControl} from 'react-map-gl';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport {\r\n  GoogleMap,\r\n  useLoadScript,\r\n  Marker,\r\n  InfoWindow,\r\n} from \"@react-google-maps/api\";\r\nimport usePlacesAutocomplete, {\r\n  getGeocode,\r\n  getLatLng,\r\n} from \"use-places-autocomplete\";\r\nimport {\r\n  Combobox,\r\n  ComboboxInput,\r\n  ComboboxPopover,\r\n  ComboboxList,\r\n  ComboboxOption,\r\n} from \"@reach/combobox\";\r\nimport { formatRelative } from \"date-fns\";\r\nimport { ReactComponent as PersonLogo } from  '../icons/person-24px.svg';\r\nimport { ReactComponent as FilterLogo } from  '../icons/filter-24px.svg';\r\nimport \"@reach/combobox/styles.css\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\nimport mapStyles from \"./mapStyles\";\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      '& > *': {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    input: {\r\n      display: 'none',\r\n    },\r\n  }));\r\nconst MAPBOX_TOKEN = \"pk.eyJ1IjoiMTV0aHJlYWQiLCJhIjoiY2ttZmUxMnhnMDk3ZjJ1czB4Z2xvYzZscCJ9.-88YuiCjn8ZYzeTcmfNnaQ\";\r\n\r\nconst NewToilet = ()  => {\r\n\r\n    //snackbar code\r\n    const [snackbarStatus, setOpenSnackbar] = React.useState(false);\r\n    const [successMessage, setSuccessMessage ] = React.useState(\"\")\r\n    const [errorStatus, setErrorStatus] = React.useState(false)\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\")\r\n\r\n \r\n    //-----------------\r\n    const history =useHistory(); \r\n\r\n    //MAP CODE\r\n    const [viewport, setViewport] = React.useState({\r\n        width: \"100vw\",\r\n        height: \"40vh\",\r\n        latitude: 28.7,\r\n        longitude: 77.2,\r\n        zoom: 10\r\n      });\r\n      const mapRef = useRef();\r\n      const geolocateControlStyle= {\r\n        \r\n        right: 10, \r\n        bottom:50,  \r\n      };\r\n      const handleViewportChange = useCallback(\r\n        (newViewport) => setViewport(newViewport),\r\n        []\r\n      );\r\n     \r\n\r\n\r\n      const handleGeocoderViewportChange = useCallback(\r\n        (newViewport) => {\r\n          const geocoderDefaultOverrides = { transitionDuration: 1000 };\r\n    \r\n          return handleViewportChange({\r\n            ...newViewport,\r\n            ...geocoderDefaultOverrides\r\n          });\r\n        },\r\n        [handleViewportChange]\r\n      );\r\n    //LOCATION PICKER\r\n      const [marker, setMarker] = useState(\r\n        null);\r\n\r\n      const changeMarker = (selected) => \r\n      {\r\n         setMarker(selected)\r\n         console.log(marker)\r\n      }\r\n\r\n      useEffect(()=>{\r\n          setMarker({\r\n              latitude:viewport.latitude, \r\n              longitude:viewport.longitude\r\n          })\r\n      }, [viewport\r\n\r\n      ]); \r\n\r\n      \r\n      const [events, logEvents] = useState({});\r\n\r\n      const onMarkerDragStart = useCallback(event => {\r\n        logEvents(_events => ({..._events, onDragStart: event.lngLat}));\r\n      }, []);\r\n    \r\n      const onMarkerDrag = useCallback(event => {\r\n        logEvents(_events => ({..._events, onDrag: event.lngLat}));\r\n      }, []);\r\n    \r\n      const onMarkerDragEnd = (event) => {\r\n       \r\n        setMarker({\r\n          longitude: event.lngLat[0],\r\n          latitude: event.lngLat[1]\r\n        });\r\n        console.log(marker)\r\n       \r\n      };\r\n    //--------------------------------\r\n    //FORM CODE\r\n\r\n    //FORM data\r\n    //lat lng is markers\r\n    const [name, setName] = React.useState(\"\"); \r\n    const [restroomPrice, setRestroomPrice] = React.useState(); \r\n    const [bathroomPrice, setBathroomPrice] = React.useState(); \r\n    const [hasToiletPaper, setHasToiletPaper] = React.useState(false); \r\n    const [gender, setGender] = React.useState(\"a\");\r\n    const [differentlyAbled   , setDifferentlyAbled] = React.useState(false);\r\n    const [desc, setDesc] = React.useState(\"\")\r\n    const [isPublic, setPublic] = React.useState(false); \r\n    const [indian, setIndian] = React.useState('i'); \r\n    const [image,setImage] = useState(\"\")\r\n    const [photoURL, setPhotoURL ] = useState(\"\")\r\n    const [photos, setPhotos] = useState([])\r\n    const [rem, setRem] = useState(5)\r\n\r\n    \r\n\r\n\r\n    const classes = useStyles();\r\n  \r\n\r\n   \r\n    \r\n    const addBathroom = ()=>{\r\n       console.log({\r\n        landmarkName: name,\r\n        isPublic:isPublic,\r\n        differentlyAbled:differentlyAbled,\r\n        gender:gender,\r\n        hasToiletPaper:hasToiletPaper, \r\n        restroomPrice:restroomPrice, \r\n        bathroomPrice:bathroomPrice, \r\n        lat:marker.lat, \r\n        lng:marker.lng, \r\n        Indian: indian, \r\n        photos: photos\r\n\r\n    })\r\n        \r\n        fetch(\"/api/toilet/newToilet\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\", \r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\"), \r\n            },\r\n            body:JSON.stringify({\r\n                landmarkName: name,\r\n                isPublic:isPublic,\r\n                differentlyAbled:differentlyAbled,\r\n                gender:gender,\r\n                hasToiletPaper:hasToiletPaper, \r\n                restroomPrice:restroomPrice, \r\n                bathroomPrice:bathroomPrice, \r\n                toiletType:indian, \r\n                lat:marker.lat, \r\n                lng:marker.lng, \r\n                photos: photos\r\n                \r\n                \r\n\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n            console.log(data);\r\n           if(data.error){\r\n               setErrorStatus(true)\r\n               setErrorMessage(data.error)\r\n               console.log(data.error); \r\n             \r\n           }\r\n           else{\r\n              setOpenSnackbar(true)\r\n              setSuccessMessage(\"Added listing\")\r\n               history.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            //setErrorStatus(true)\r\n            //setErrorMessage(err)\r\n            console.log(err)\r\n        })\r\n    }\r\n     \r\n    const imageDetails = ()=>{\r\n\r\n     if ((rem != 0) && (image))\r\n     {\r\n      const data = new FormData()\r\n      data.append(\"file\",image)\r\n      data.append(\"upload_preset\",\"trash-overflow\")\r\n      data.append(\"cloud_name\",\"dngglmcuk\")\r\n      fetch(\"https://api.cloudinary.com/v1_1/dngglmcuk/image/upload\",{\r\n          method:\"post\",\r\n          body:data\r\n      })\r\n      .then(res=>res.json())\r\n      .then(data=>{\r\n          if(data.error){\r\n            setErrorStatus(true)\r\n            setErrorMessage(data.error)\r\n            console.log(data.error); \r\n           }\r\n           else\r\n           {\r\n            setPhotoURL(data.url)\r\n             setOpenSnackbar(true)\r\n             setSuccessMessage(\"Image upload successful\")\r\n              \r\n              \r\n           }\r\n          \r\n      })\r\n      .catch(error=>{\r\n          \r\n        setErrorStatus(true)\r\n        setErrorMessage(error)\r\n        console.log(error); \r\n      })\r\n  \r\n   \r\n  }\r\n     \r\n     else\r\n     {\r\n      setErrorStatus(true)\r\n      setErrorMessage(\"You cannot upload more than 4 pictures. Make sure that image field is not null\")\r\n      console.log(\"Not more than 4\"); \r\n        \r\n     }\r\n    }\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n      setPhotos([...photos, photoURL])\r\n    }, [photoURL]); \r\n\r\n\r\n\r\n\r\n\r\n    \r\n    useEffect(()=>{\r\n      \r\n      setRem(rem-1)\r\n    }, [photoURL]); \r\n   \r\n      \r\n  return (\r\n    <div>\r\n           <AppBar position=\"static\" color=\"secondary\" elevation={0}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\"  color=\"primary\" aria-label=\"menu\">\r\n                        <ArrowBack onClick = {\r\n                            history.goBack\r\n                        }/>\r\n                    </IconButton>\r\n                    \r\n          <Typography variant=\"h6\">\r\n            Tap location to place marker\r\n         </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n             <Picker changeMarker={changeMarker}/> \r\n   \r\n\r\n\r\n   <Container maxWidth=\"xs\">\r\n       \r\n\r\n       <Grid container justify=\"center\" spacing={4}>\r\n             <Grid item xs = {12}>\r\n                 \r\n\r\n             </Grid>\r\n              <Grid item xs={12}>\r\n                  <TextField\r\n                  fullWidth\r\n                      variant=\"filled\"\r\n                     \r\n                      id=\"filled-basic\"\r\n                      label = \"Restroom landmark/name (e.g., Railways toilet)\"\r\n                      value = {name} onChange={(e)=>setName(e.target.value)}\r\n                     \r\n                  />\r\n              </Grid>\r\n              <Grid item xs = {12}>\r\n                  <FormControl component=\"fieldset\">\r\n                      <FormLabel component=\"legend\">Restroom type</FormLabel>\r\n                      <RadioGroup aria-label=\"type\" name=\"type\" value={indian} onChange={(event) => {\r\n      setIndian(event.target.value);\r\n      \r\n    }}>\r\n                          <FormControlLabel value=\"i\" control={<Radio />} label=\"Indian\" style = {{color:\"black\"}}/>\r\n                          <FormControlLabel value=\"w\" control={<Radio />} label=\"Western\" style = {{color:\"black\"}}/>\r\n                \r\n                      </RadioGroup>\r\n                  </FormControl>\r\n              \r\n\r\n              </Grid>\r\n              <Grid item xs = {12}>\r\n                  <FormControl component=\"fieldset\">\r\n                      <FormLabel component=\"legend\">Gender accessibility</FormLabel>\r\n                      <RadioGroup aria-label=\"type\" name=\"type\" value={gender} onChange={(event) => {\r\n      setGender(event.target.value);\r\n      \r\n    }}>\r\n                          <FormControlLabel value=\"a\" control={<Radio />} label=\"Ladies\" style = {{color:\"black\"}}/>\r\n                          <FormControlLabel value=\"b\" control={<Radio />} label=\"Gents\" style = {{color:\"black\"}}/>\r\n                          <FormControlLabel value=\"c\" control={<Radio />} label=\"Unisex\" style = {{color:\"black\"}}/>\r\n                \r\n                      </RadioGroup>\r\n                  </FormControl>\r\n              \r\n\r\n              </Grid>\r\n              <Grid item xs = {12}>\r\n\r\n                  <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\">Norms</FormLabel>\r\n                      <FormGroup row>\r\n                          <FormControlLabel\r\n                              control={<Checkbox checked={hasToiletPaper} onChange={(e)=>{\r\n                                  setHasToiletPaper(e.target.checked)\r\n                              }} name=\"has toilet paper\" />}\r\n                              label=\"Toilet paper included\"\r\n                          />\r\n                          <FormControlLabel\r\n                              control={<Checkbox checked={differentlyAbled } onChange={(e)=>{\r\n                                setDifferentlyAbled(e.target.checked)\r\n                            }} name=\"diff ab friendly\" />}\r\n                              label=\"Differently abled friendly\"\r\n                          />\r\n\r\n    \r\n\r\n\r\n\r\n                      </FormGroup>\r\n\r\n                  </FormControl>\r\n                  \r\n              \r\n             \r\n\r\n             </Grid>\r\n             <Grid item xs = {12}>\r\n\r\n                  <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\">Ownership (skip if restroom is privately held)</FormLabel>\r\n                      <FormGroup row>\r\n                          <FormControlLabel\r\n                              control={<Checkbox checked={isPublic} onChange={(e)=>{\r\n                                  setPublic(e.target.checked)\r\n                              }} name=\"public toilet\" />}\r\n                              label=\"Public restroom\"\r\n                          />\r\n                          \r\n\r\n    \r\n\r\n\r\n\r\n                      </FormGroup>\r\n\r\n                  </FormControl>\r\n                  \r\n              \r\n             \r\n\r\n             </Grid>\r\n              <Grid item xs={12}>\r\n\r\n                  <FormControl component=\"fieldset\">\r\n                      <FormLabel component=\"legend\">Pricing</FormLabel>\r\n                      <br />\r\n                      <FormGroup row>\r\n                        <Grid container spacing = {2}>\r\n                            <Grid item xs={6}>\r\n                                  <TextField\r\n                                      fullWidth\r\n                                      variant=\"filled\"\r\n                                      value = {restroomPrice} onChange={(e)=>setRestroomPrice(e.target.value)}\r\n                                      id=\"filled-basic\"\r\n                                      label=\"Restroom (INR)\"\r\n                                      InputProps={{\r\n                                          startAdornment: (\r\n                                              <InputAdornment position=\"start\">\r\n                                                  <Wc />\r\n                                              </InputAdornment>\r\n                                          ),\r\n                                      }}\r\n                                  />\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={6}>\r\n                            <TextField\r\n                                      fullWidth\r\n                                      variant=\"filled\"\r\n                                      value = {bathroomPrice} onChange={(e)=>setBathroomPrice(e.target.value)}\r\n                                      id=\"filled-basic\"\r\n                                      label=\"Bathroom (INR)\"\r\n                                      InputProps={{\r\n                                          startAdornment: (\r\n                                              <InputAdornment position=\"start\">\r\n                                                  <Bathtub />\r\n                                              </InputAdornment>\r\n                                          ),\r\n                                      }}\r\n                                  />\r\n                           \r\n                            </Grid>\r\n                            <Grid item xs = {12}>\r\n                                \r\n                                <br></br>\r\n                            <FormLabel component=\"legend\">Upload image (optional). {rem} uploads remaining</FormLabel>\r\n                            <br></br>\r\n                                <Container align=\"center\">\r\n                                <div className={classes.root}>\r\n                                      {/* <input\r\n                                          accept=\"image/*\"\r\n                                          className={classes.input}\r\n                                          id=\"contained-button-file\"\r\n                                          multiple\r\n                                          type=\"file\"\r\n                                          \r\n                                      /> */}\r\n                                      <label htmlFor=\"contained-button-file\">\r\n                                          <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick = {(e)=>{imageDetails()}}>\r\n                                              Upload\r\n        </Button>\r\n                                      </label>\r\n                                      <input accept=\"image/*\" className={classes.input} multiple id=\"icon-button-file\" type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\r\n                                      <label htmlFor=\"icon-button-file\">\r\n                                          <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                                              <PhotoCamera />\r\n                                          </IconButton>\r\n                                      </label>\r\n                                  </div>\r\n                                </Container>\r\n                                  \r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                      <Button onClick = {()=>addBathroom()}  color=\"primary\" on fullWidth type=\"submit\" variant=\"contained\">\r\n                                          Add restroom\r\n            </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n\r\n                      </FormGroup>  \r\n\r\n                  </FormControl>\r\n\r\n\r\n\r\n\r\n              </Grid>\r\n\r\n       </Grid>\r\n       \r\n      \r\n     \r\n      \r\n    \r\n   </Container>\r\n   <Snackbar open={snackbarStatus} autoHideDuration={6000} onClose={(e)=>{setOpenSnackbar(false)}}>\r\n  <Alert onClose={(e)=>{setOpenSnackbar(false)}} severity=\"success\">\r\n    {successMessage}\r\n  </Alert>\r\n</Snackbar>\r\n<Snackbar open={errorStatus} autoHideDuration={6000} onClose={(e)=>{setErrorStatus(false)}}>\r\n  <Alert onClose={(e)=>{setErrorStatus(false)}} severity=\"error\">\r\n     {errorMessage}\r\n  </Alert>\r\n</Snackbar>\r\n\r\n   </div>\r\n\r\n   \r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default NewToilet; \r\n\r\n\r\n\r\n\r\nconst libraries = [\"places\"];\r\nconst mapContainerStyle = {\r\n  height: \"50vh\",\r\n  width: \"100vw\",\r\n};\r\nconst options = {\r\n  styles: mapStyles,\r\n  disableDefaultUI: true,\r\n  zoomControl: false,\r\n};\r\nconst center = {\r\n  lat: 43.6532,\r\n  lng: -79.3832,\r\n};\r\n\r\nfunction Picker({changeMarker}) {\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n    libraries,\r\n  });\r\n  const [selected, setSelected] = React.useState(null);\r\n useEffect(()=>{\r\n      changeMarker(selected)\r\n }, [selected])\r\n\r\n  \r\n  const onMapClick = React.useCallback((e) => {\r\n    setSelected({\r\n        lat: e.latLng.lat(),\r\n        lng: e.latLng.lng(),\r\n        \r\n      },\r\n    );\r\n  }, []);\r\n\r\n  const mapRef = React.useRef();\r\n  const onMapLoad = React.useCallback((map) => {\r\n    mapRef.current = map;\r\n  }, []);\r\n\r\n  const panTo = React.useCallback(({ lat, lng }) => {\r\n    mapRef.current.panTo({ lat, lng });\r\n    mapRef.current.setZoom(14);\r\n  }, []);\r\n\r\n  if (loadError) return \"Error\";\r\n  if (!isLoaded) return \"Loading...\";\r\n\r\n  return (\r\n    <div>\r\n      \r\n    \r\n      <Locate panTo={panTo} />\r\n      <SearchMap panTo={panTo} />\r\n\r\n      <GoogleMap\r\n        id=\"map\"\r\n        mapContainerStyle={mapContainerStyle}\r\n        zoom={8}\r\n        center={center}\r\n        options={options}\r\n        onClick={onMapClick}\r\n        onLoad={onMapLoad}\r\n      >\r\n        {selected ? <Marker\r\n           \r\n           position={{ lat: selected.lat, lng: selected.lng }}\r\n           \r\n          \r\n         \r\n         /> : null }\r\n        \r\n\r\n       \r\n      </GoogleMap>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const Profile = () => \r\n// {\r\n//   return (\r\n//     <button\r\n    \r\n//     onClick={() => {\r\n//       navigator.geolocation.getCurrentPosition(\r\n//         (position) => {\r\n//           panTo({\r\n//             lat: position.coords.latitude,\r\n//             lng: position.coords.longitude,\r\n//           });\r\n//         },\r\n//         () => null\r\n//       );\r\n//     }}\r\n//   >\r\n//     <img src=\"./my_loc.svg\" alt=\"loc\" />\r\n//   </button>\r\n//   );  \r\n// }\r\n\r\n\r\nfunction Locate({ panTo }) {\r\n  return (\r\n    <button\r\n      className=\"locatePicker\"\r\n      onClick={() => {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (position) => {\r\n            panTo({\r\n              lat: position.coords.latitude,\r\n              lng: position.coords.longitude,\r\n            });\r\n          },\r\n          () => null\r\n        );\r\n      }}\r\n    >\r\n      <img src=\"./my_loc.svg\" alt=\"loc\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction SearchMap({ panTo }) {\r\n  const {\r\n    ready,\r\n    value,\r\n    suggestions: { status, data },\r\n    setValue,\r\n    clearSuggestions,\r\n  } = usePlacesAutocomplete({\r\n    requestOptions: {\r\n      location: { lat: () => 43.6532, lng: () => -79.3832 },\r\n      radius: 100 * 1000,\r\n    },\r\n  });\r\n\r\n  // https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\r\n\r\n  const handleInput = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleSelect = async (address) => {\r\n    setValue(address, false);\r\n    clearSuggestions();\r\n\r\n    try {\r\n      const results = await getGeocode({ address });\r\n      const { lat, lng } = await getLatLng(results[0]);\r\n      panTo({ lat, lng });\r\n    } catch (error) {\r\n      console.log(\" Error: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"searchPicker\">\r\n      \r\n      <Combobox onSelect={handleSelect}>\r\n        <ComboboxInput\r\n          value={value}\r\n          onChange={handleInput}\r\n          disabled={!ready}\r\n          placeholder=\"Search\"\r\n        />\r\n        <ComboboxPopover>\r\n          <ComboboxList>\r\n            {status === \"OK\" &&\r\n              data.map(({ id, description }) => (\r\n                <ComboboxOption key={id} value={description} />\r\n              ))}\r\n          </ComboboxList>\r\n        </ComboboxPopover>\r\n      </Combobox>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { makeStyles, Container, Snackbar, ListItem, ListItemIcon, ListItemText, List, Divider, AppBar, Card, CardActionArea, Toolbar, IconButton, CardMedia, CardContent, Typography, Box, CardActions, Button } from '@material-ui/core';\r\nimport { AccessibleForwardOutlined, AccessTime, AccessTimeOutlined, ArrowBack, AttachMoneyOutlined, BathtubOutlined, Contactless, Info, InfoOutlined, LocationCityOutlined, LocationOnOutlined, MoneyOutlined, Phone, WcOutlined } from '@material-ui/icons';\r\nimport { Rating } from '@material-ui/lab'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        maxWidth: 345,\r\n    },\r\n    media: {\r\n        height: 200,\r\n    },\r\n});\r\n\r\nconst iconStyles = makeStyles({\r\n    root: {\r\n        fill: \"#3f50b5\"\r\n\r\n    },\r\n    media: {\r\n\r\n    },\r\n});\r\n\r\nconst OneToilet = () => {\r\n    const { toiletId } = useParams();\r\n    const [toiletProp, setToiletProp] = useState();\r\n    const [loading, setLoading] = useState(true)\r\n    console.log(toiletId)\r\n    const [snackbarStatus, setOpenSnackbar] = React.useState(false);\r\n\r\n    const rateToilet = () => {\r\n        fetch(\"/api/toilet/newRating\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({\r\n                toilet_id: toiletId,\r\n                rating: stars\r\n\r\n\r\n\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n\r\n                console.log(data);\r\n                if (data.error) {\r\n\r\n                    console.log(data.error);\r\n\r\n                }\r\n                else {\r\n                    console.log(data)\r\n                    setToiletProp(data)\r\n                    setOpenSnackbar(true)\r\n\r\n\r\n                }\r\n            }).catch(err => {\r\n                //setErrorStatus(true)\r\n                //setErrorMessage(err)\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(\"/api/toilet/oneToilet\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({\r\n                toilet_id: toiletId\r\n\r\n\r\n\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n\r\n                console.log(data);\r\n                if (data.error) {\r\n\r\n                    console.log(data.error);\r\n\r\n                }\r\n                else {\r\n                    console.log(data)\r\n                    setToiletProp(data)\r\n                    setLoading(false)\r\n                }\r\n            }).catch(err => {\r\n                //setErrorStatus(true)\r\n                //setErrorMessage(err)\r\n                console.log(err)\r\n            })\r\n    }, [])\r\n    const [stars, setStars] = React.useState(2);\r\n    const classes = useStyles();\r\n    const iconMakeup = iconStyles();\r\n    const history = useHistory();\r\n    if (loading) {\r\n        return (<div>\r\n\r\n        </div>)\r\n    }\r\n    else {\r\n        return (<div>\r\n            <AppBar position=\"static\" color=\"secondary\" elevation={0} >\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" color=\"primary\" aria-label=\"menu\">\r\n                        <ArrowBack onClick={\r\n                            history.goBack\r\n                        } />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\">\r\n\r\n                    </Typography>\r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Container maxWidth=\"xs\" align=\"center\">\r\n                <Card className={classes.root} elevation={0}>\r\n                    <CardActionArea>\r\n\r\n                        <CardMedia\r\n\r\n                            image={toiletProp.photos.length > 1 ? toiletProp.photos[1] : \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Toilet_photo.jpg/800px-Toilet_photo.jpg\"}\r\n                            title=\"landmarkName\"\r\n                            className={classes.media}\r\n\r\n                        />\r\n                        <CardContent>\r\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n\r\n                                <Box component=\"fieldset\" borderColor=\"transparent\">\r\n\r\n                                    <Rating name=\"read-only\" value={toiletProp.avgRating > 0 ? toiletProp.avgRating : 1} />\r\n                                </Box>\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </CardActionArea>\r\n                    <CardActions>\r\n\r\n                    </CardActions>\r\n                </Card>\r\n                <div>\r\n                    <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                        <ListItem button>\r\n                            <ListItemIcon >\r\n                                <LocationOnOutlined className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={toiletProp.landmarkName} />\r\n                        </ListItem>\r\n                        {toiletProp.differentlyAbled ? <ListItem button>\r\n                            <ListItemIcon >\r\n                                <AccessibleForwardOutlined className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Differently Abled Friendly\" />\r\n                        </ListItem> : null}\r\n\r\n                        <Divider />\r\n                        <ListItem button>\r\n                            <ListItemIcon>\r\n                                <WcOutlined className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={toiletProp.restroomPrice === 0 ? \"Free services\" : \"Restroom fees (INR): \" + toiletProp.restroomPrice} />\r\n                        </ListItem>\r\n                        <ListItem button>\r\n                            <ListItemIcon>\r\n                                <BathtubOutlined className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={toiletProp.bathroomPrice === 0 ? \"Free services\" : \"Bathroom fees (INR): \" + toiletProp.restroomPrice} />\r\n                        </ListItem>\r\n                        <Divider />\r\n                        <ListItem button>\r\n                            <ListItemIcon>\r\n                                <AccessTimeOutlined className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={toiletProp.isAvailable ? \"Open from 9 AM to 9 PM everyday\" : \"Closed\"} />\r\n                        </ListItem>\r\n                        <Divider />\r\n                        <ListItem button>\r\n                            <ListItemIcon>\r\n                                <Phone className={iconMakeup.root} />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={(toiletProp.owner&&toiletProp.owner.phone)? toiletProp.owner.phone : \"6000439169\"} />\r\n                        </ListItem>\r\n\r\n                    </List>\r\n                    <Card elevation={0}>\r\n                        <CardActionArea>\r\n                            <CardMedia\r\n\r\n\r\n                                title=\"landmarkName\"\r\n\r\n\r\n                            />\r\n                            <CardContent>\r\n                                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                    Rate this restroom\r\n              </Typography>\r\n                                <Typography color=\"textSecondary\">\r\n                                    Tell us about your perception of social hygiene\r\n            </Typography>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n\r\n                                    <Box component=\"fieldset\" borderColor=\"transparent\">\r\n\r\n                                        <Rating name=\"read-only\" value={stars}\r\n                                            onChange={(event, newValue) => {\r\n                                                setStars(newValue);\r\n                                            }} />\r\n                                    </Box>\r\n                                </Typography>\r\n                            </CardContent>\r\n                        </CardActionArea>\r\n                        <CardActions>\r\n                            <Button size=\"small\" onClick={() => { rateToilet() }}>SUBMIT</Button>\r\n                        </CardActions>\r\n                    </Card>\r\n\r\n\r\n                </div>\r\n            </Container>\r\n            <Snackbar open={snackbarStatus} autoHideDuration={6000} onClose={(e) => { setOpenSnackbar(false) }}>\r\n                <Alert onClose={(e) => { setOpenSnackbar(false) }} severity=\"success\">\r\n                    Your rating has been submitted\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n        </div>\r\n        );\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default OneToilet;","import React,{useEffect,createContext,useReducer,useContext} from 'react'; \r\nimport Map from './screens/Mapscreen'; \r\nimport Profile from './screens/Profile'; \r\nimport ProfileInfo from './screens/ProfileInfo'; \r\nimport SignUp from './screens/SignUp';\r\nimport LogIn from './screens/LogIn';\r\nimport Filter from './screens/Filter';\r\nimport ToiletsLeased from './screens/ToiletsLeased';\r\nimport './App.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useHistory\r\n \r\n} from \"react-router-dom\";\r\nimport {reducer,initialState} from './reducers/userReducer'\r\n\r\nimport { CssBaseline } from  '@material-ui/core'\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport NewToilet from './screens/NewToilet';\r\nimport OneToilet from './screens/OneToilet';\r\n\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#212121\",\r\n    },\r\n    secondary: {\r\n      main: \"#fafafa\",\r\n    },\r\n\r\n  },\r\n  overrides: {\r\n    MuiRadio: {\r\n      root: {\r\n        color: '#212121',\r\n      },\r\n      colorSecondary: {\r\n        '&$checked': {\r\n          color: '#212121',\r\n        },\r\n      },\r\n    },\r\n    MuiCheckbox: {\r\n      root: {\r\n        color: '#212121',\r\n      },\r\n      colorSecondary: {\r\n        '&$checked': {\r\n          color: '#212121',\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst Routing = () => {\r\n  const history = useHistory()\r\n  const {state, dispatch} = useContext(UserContext)\r\n  \r\n\r\n  \r\n\r\n  useEffect(()=>{\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if(user){\r\n      dispatch({type:\"USER\",payload:user})\r\n    }else if(!history.location.pathname.startsWith('/LogIn'&&!history.location.pathname.startsWith('/api'))){\r\n        history.push('/SignUp');\r\n    }\r\n  },[]);\r\n\r\n  return (\r\n    <Switch>\r\n          <Route exact path=\"/\">\r\n            <Map />\r\n          </Route>\r\n          <Route path=\"/profile\">\r\n            <Profile /> \r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <LogIn />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <SignUp />\r\n          </Route>    \r\n          <Route path=\"/filter\">\r\n            <Filter />\r\n          </Route>   \r\n          <Route path=\"/new_toilet\">\r\n            <NewToilet /> \r\n            </Route>   \r\n            <Route path=\"/toilets_leased\">\r\n            <ToiletsLeased/> \r\n            </Route>   \r\n          <Route path=\"/example\">\r\n            <Map />\r\n            </Route>   \r\n            <Route path=\"/profile_info\">\r\n            < ProfileInfo />\r\n            </Route>   \r\n            <Route path=\"/one_toilet/:toiletId\">\r\n                <OneToilet />\r\n            </Route>\r\n\r\n        \r\n        </Switch>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [state,dispatch] = useReducer(reducer,initialState)\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n    <ThemeProvider theme = {theme}>\r\n      <CssBaseline>\r\n      <Router>\r\n      <div className=\"App\">\r\n        <Routing />\r\n      </div>\r\n    </Router>\r\n      </CssBaseline>\r\n       \r\n    </ThemeProvider>\r\n    </UserContext.Provider>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n"],"sourceRoot":""}